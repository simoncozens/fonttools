

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fontTools.cffLib &mdash; fontTools Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> fontTools
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../afmLib.html">afmLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../agl.html">agl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cffLib/index.html">cffLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../colorLib/index.html">colorLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cu2qu/index.html">cu2qu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../designspaceLib/index.html">designspaceLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../encodings/index.html">encodings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../feaLib/index.html">feaLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../merge.html">merge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/index.html">misc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mtiLib.html">mtiLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../otlLib/index.html">otlLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pens/index.html">pens</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../subset/index.html">subset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../svgLib/index.html">svgLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../t1Lib.html">t1Lib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ttLib/index.html">ttLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ttx.html">ttx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ufoLib/index.html">ufoLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../unicode.html">unicode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../unicodedata/index.html">unicodedata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../varLib/index.html">varLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../voltLib.html">voltLib</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">fontTools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>fontTools.cffLib</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for fontTools.cffLib</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;cffLib.py -- read/write tools for Adobe CFF fonts.&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">fontTools.misc.py23</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">fontTools.misc</span> <span class="k">import</span> <span class="n">sstruct</span>
<span class="kn">from</span> <span class="nn">fontTools.misc</span> <span class="k">import</span> <span class="n">psCharStrings</span>
<span class="kn">from</span> <span class="nn">fontTools.misc.arrayTools</span> <span class="k">import</span> <span class="n">unionRect</span><span class="p">,</span> <span class="n">intRect</span>
<span class="kn">from</span> <span class="nn">fontTools.misc.textTools</span> <span class="k">import</span> <span class="n">safeEval</span>
<span class="kn">from</span> <span class="nn">fontTools.ttLib</span> <span class="k">import</span> <span class="n">TTFont</span>
<span class="kn">from</span> <span class="nn">fontTools.ttLib.tables.otBase</span> <span class="k">import</span> <span class="n">OTTableWriter</span>
<span class="kn">from</span> <span class="nn">fontTools.ttLib.tables.otBase</span> <span class="k">import</span> <span class="n">OTTableReader</span>
<span class="kn">from</span> <span class="nn">fontTools.ttLib.tables</span> <span class="k">import</span> <span class="n">otTables</span> <span class="k">as</span> <span class="n">ot</span>
<span class="kn">import</span> <span class="nn">struct</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># mute cffLib debug messages when running ttx in verbose mode</span>
<span class="n">DEBUG</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">cffHeaderFormat</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">	major:   B</span>
<span class="s2">	minor:   B</span>
<span class="s2">	hdrSize: B</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">maxStackLimit</span> <span class="o">=</span> <span class="mi">513</span>
<span class="c1"># maxstack operator has been deprecated. max stack is now always 513.</span>


<div class="viewcode-block" id="CFFFontSet"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFFontSet">[docs]</a><span class="k">class</span> <span class="nc">CFFFontSet</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

<div class="viewcode-block" id="CFFFontSet.decompile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFFontSet.decompile">[docs]</a>	<span class="k">def</span> <span class="nf">decompile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">otFont</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">otFont</span> <span class="o">=</span> <span class="n">otFont</span>
		<span class="n">sstruct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">cffHeaderFormat</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">isCFF2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="c1"># called from ttLib: assert &#39;major&#39; as read from file matches the</span>
			<span class="c1"># expected version</span>
			<span class="n">expected_major</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="k">if</span> <span class="n">isCFF2</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="o">!=</span> <span class="n">expected_major</span><span class="p">:</span>
				<span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
					<span class="s2">&quot;Invalid CFF &#39;major&#39; version: expected </span><span class="si">%d</span><span class="s2">, found </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span>
					<span class="p">(</span><span class="n">expected_major</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span><span class="p">))</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="c1"># use &#39;major&#39; version from file to determine if isCFF2</span>
			<span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s2">&quot;Unknown CFF format&quot;</span>
			<span class="n">isCFF2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="o">==</span> <span class="mi">2</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">offSize</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
			<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hdrSize</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tostr</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">Index</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span> <span class="o">=</span> <span class="n">TopDictIndex</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="n">IndexedStrings</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>  <span class="c1"># isCFF2</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">topDictSize</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&gt;H&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
			<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hdrSize</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;CFF2Font&quot;</span><span class="p">]</span>
			<span class="n">cff2GetGlyphOrder</span> <span class="o">=</span> <span class="n">otFont</span><span class="o">.</span><span class="n">getGlyphOrder</span>
			<span class="c1"># in CFF2, offsetSize is the size of the TopDict data.</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span> <span class="o">=</span> <span class="n">TopDictIndex</span><span class="p">(</span>
				<span class="n">file</span><span class="p">,</span> <span class="n">cff2GetGlyphOrder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDictSize</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span> <span class="o">=</span> <span class="n">GlobalSubrsIndex</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span><span class="o">.</span><span class="n">GlobalSubrs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span></div>

	<span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span><span class="p">)</span>

<div class="viewcode-block" id="CFFFontSet.keys"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFFontSet.keys">[docs]</a>	<span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span><span class="p">)</span></div>

<div class="viewcode-block" id="CFFFontSet.values"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFFontSet.values">[docs]</a>	<span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span></div>

	<span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nameOrIndex</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot; Return TopDict instance identified by name (str) or index (int</span>
<span class="sd">		or any object that implements `__index__`).</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">nameOrIndex</span><span class="p">,</span> <span class="s2">&quot;__index__&quot;</span><span class="p">):</span>
			<span class="n">index</span> <span class="o">=</span> <span class="n">nameOrIndex</span><span class="o">.</span><span class="fm">__index__</span><span class="p">()</span>
		<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nameOrIndex</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
			<span class="n">name</span> <span class="o">=</span> <span class="n">nameOrIndex</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
			<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
				<span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">nameOrIndex</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">nameOrIndex</span><span class="p">)</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

<div class="viewcode-block" id="CFFFontSet.compile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFFontSet.compile">[docs]</a>	<span class="k">def</span> <span class="nf">compile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">otFont</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">otFont</span> <span class="o">=</span> <span class="n">otFont</span>
		<span class="k">if</span> <span class="n">isCFF2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="c1"># called from ttLib: assert &#39;major&#39; value matches expected version</span>
			<span class="n">expected_major</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="k">if</span> <span class="n">isCFF2</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="o">!=</span> <span class="n">expected_major</span><span class="p">:</span>
				<span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
					<span class="s2">&quot;Invalid CFF &#39;major&#39; version: expected </span><span class="si">%d</span><span class="s2">, found </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span>
					<span class="p">(</span><span class="n">expected_major</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span><span class="p">))</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="c1"># use current &#39;major&#39; value to determine output format</span>
			<span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s2">&quot;Unknown CFF format&quot;</span>
			<span class="n">isCFF2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="o">==</span> <span class="mi">2</span>

		<span class="k">if</span> <span class="n">otFont</span><span class="o">.</span><span class="n">recalcBBoxes</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">topDict</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span><span class="p">:</span>
				<span class="n">topDict</span><span class="o">.</span><span class="n">recalcFontBBox</span><span class="p">()</span>

		<span class="k">if</span> <span class="ow">not</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="n">strings</span> <span class="o">=</span> <span class="n">IndexedStrings</span><span class="p">()</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">strings</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="n">writer</span> <span class="o">=</span> <span class="n">CFFWriter</span><span class="p">(</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="n">topCompiler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">hdrSize</span> <span class="o">=</span> <span class="mi">5</span>
			<span class="n">writer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sstruct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">cffHeaderFormat</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
			<span class="c1"># Note: topDictSize will most likely change in CFFWriter.toFile().</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">topDictSize</span> <span class="o">=</span> <span class="n">topCompiler</span><span class="o">.</span><span class="n">getDataLength</span><span class="p">()</span>
			<span class="n">writer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&gt;H&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDictSize</span><span class="p">))</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">hdrSize</span> <span class="o">=</span> <span class="mi">4</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">offSize</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># will most likely change in CFFWriter.toFile().</span>
			<span class="n">writer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sstruct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">cffHeaderFormat</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
			<span class="n">writer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">offSize</span><span class="p">))</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="n">fontNames</span> <span class="o">=</span> <span class="n">Index</span><span class="p">()</span>
			<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span><span class="p">:</span>
				<span class="n">fontNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
			<span class="n">writer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">fontNames</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">))</span>
		<span class="n">writer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">topCompiler</span><span class="p">)</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="n">writer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">strings</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">())</span>
		<span class="n">writer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">))</span>

		<span class="k">for</span> <span class="n">topDict</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span><span class="p">:</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">topDict</span><span class="p">,</span> <span class="s2">&quot;charset&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">topDict</span><span class="o">.</span><span class="n">charset</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
				<span class="n">charset</span> <span class="o">=</span> <span class="n">otFont</span><span class="o">.</span><span class="n">getGlyphOrder</span><span class="p">()</span>
				<span class="n">topDict</span><span class="o">.</span><span class="n">charset</span> <span class="o">=</span> <span class="n">charset</span>
		<span class="n">children</span> <span class="o">=</span> <span class="n">topCompiler</span><span class="o">.</span><span class="n">getChildren</span><span class="p">(</span><span class="n">strings</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
			<span class="n">writer</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

		<span class="n">writer</span><span class="o">.</span><span class="n">toFile</span><span class="p">(</span><span class="n">file</span><span class="p">)</span></div>

<div class="viewcode-block" id="CFFFontSet.toXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFFontSet.toXML">[docs]</a>	<span class="k">def</span> <span class="nf">toXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">):</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="s2">&quot;major&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">major</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="s2">&quot;minor&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">minor</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">fontName</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span><span class="p">:</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="s2">&quot;CFFFont&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">tostr</span><span class="p">(</span><span class="n">fontName</span><span class="p">))</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="n">font</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">fontName</span><span class="p">]</span>
			<span class="n">font</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="s2">&quot;CFFFont&quot;</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="s2">&quot;GlobalSubrs&quot;</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="s2">&quot;GlobalSubrs&quot;</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="CFFFontSet.fromXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFFontSet.fromXML">[docs]</a>	<span class="k">def</span> <span class="nf">fromXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">otFont</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">otFont</span> <span class="o">=</span> <span class="n">otFont</span>

		<span class="c1"># set defaults. These will be replaced if there are entries for them</span>
		<span class="c1"># in the XML file.</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;major&quot;</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="o">=</span> <span class="mi">1</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;minor&quot;</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">minor</span> <span class="o">=</span> <span class="mi">0</span>

		<span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;CFFFont&quot;</span><span class="p">:</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
				<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;offSize&quot;</span><span class="p">):</span>
					<span class="c1"># this will be recalculated when the cff is compiled.</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">offSize</span> <span class="o">=</span> <span class="mi">4</span>
				<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;hdrSize&quot;</span><span class="p">):</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">hdrSize</span> <span class="o">=</span> <span class="mi">4</span>
				<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;GlobalSubrs&quot;</span><span class="p">):</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span> <span class="o">=</span> <span class="n">GlobalSubrsIndex</span><span class="p">()</span>
				<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;fontNames&quot;</span><span class="p">):</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span> <span class="o">=</span> <span class="p">[]</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span> <span class="o">=</span> <span class="n">TopDictIndex</span><span class="p">()</span>
				<span class="n">fontName</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fontName</span><span class="p">)</span>
				<span class="n">topDict</span> <span class="o">=</span> <span class="n">TopDict</span><span class="p">(</span><span class="n">GlobalSubrs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span><span class="p">)</span>
				<span class="n">topDict</span><span class="o">.</span><span class="n">charset</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># gets filled in later</span>
			<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
				<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;hdrSize&quot;</span><span class="p">):</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">hdrSize</span> <span class="o">=</span> <span class="mi">5</span>
				<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;GlobalSubrs&quot;</span><span class="p">):</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span> <span class="o">=</span> <span class="n">GlobalSubrsIndex</span><span class="p">()</span>
				<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;fontNames&quot;</span><span class="p">):</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">fontNames</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;CFF2Font&quot;</span><span class="p">]</span>
				<span class="n">cff2GetGlyphOrder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">otFont</span><span class="o">.</span><span class="n">getGlyphOrder</span>
				<span class="n">topDict</span> <span class="o">=</span> <span class="n">TopDict</span><span class="p">(</span>
					<span class="n">GlobalSubrs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span><span class="p">,</span>
					<span class="n">cff2GetGlyphOrder</span><span class="o">=</span><span class="n">cff2GetGlyphOrder</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span> <span class="o">=</span> <span class="n">TopDictIndex</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">cff2GetGlyphOrder</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">topDict</span><span class="p">)</span>
			<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
					<span class="k">continue</span>
				<span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="n">element</span>
				<span class="n">topDict</span><span class="o">.</span><span class="n">fromXML</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">topDict</span><span class="p">,</span> <span class="s2">&quot;VarStore&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">topDict</span><span class="o">.</span><span class="n">FDArray</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">vstore</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
				<span class="n">fdArray</span> <span class="o">=</span> <span class="n">topDict</span><span class="o">.</span><span class="n">FDArray</span>
				<span class="k">for</span> <span class="n">fontDict</span> <span class="ow">in</span> <span class="n">fdArray</span><span class="p">:</span>
					<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">fontDict</span><span class="p">,</span> <span class="s2">&quot;Private&quot;</span><span class="p">):</span>
						<span class="n">fontDict</span><span class="o">.</span><span class="n">Private</span><span class="o">.</span><span class="n">vstore</span> <span class="o">=</span> <span class="n">topDict</span><span class="o">.</span><span class="n">VarStore</span>

		<span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;GlobalSubrs&quot;</span><span class="p">:</span>
			<span class="n">subrCharStringClass</span> <span class="o">=</span> <span class="n">psCharStrings</span><span class="o">.</span><span class="n">T2CharString</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;GlobalSubrs&quot;</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span> <span class="o">=</span> <span class="n">GlobalSubrsIndex</span><span class="p">()</span>
			<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
					<span class="k">continue</span>
				<span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="n">element</span>
				<span class="n">subr</span> <span class="o">=</span> <span class="n">subrCharStringClass</span><span class="p">()</span>
				<span class="n">subr</span><span class="o">.</span><span class="n">fromXML</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subr</span><span class="p">)</span>
		<span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;major&quot;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>
		<span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;minor&quot;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">minor</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span></div>

<div class="viewcode-block" id="CFFFontSet.convertCFFToCFF2"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFFontSet.convertCFFToCFF2">[docs]</a>	<span class="k">def</span> <span class="nf">convertCFFToCFF2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">otFont</span><span class="p">):</span>
		<span class="c1"># This assumes a decompiled CFF table.</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">major</span> <span class="o">=</span> <span class="mi">2</span>
		<span class="n">cff2GetGlyphOrder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">otFont</span><span class="o">.</span><span class="n">getGlyphOrder</span>
		<span class="n">topDictData</span> <span class="o">=</span> <span class="n">TopDictIndex</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">cff2GetGlyphOrder</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
		<span class="n">topDictData</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span><span class="o">.</span><span class="n">items</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">topDictIndex</span> <span class="o">=</span> <span class="n">topDictData</span>
		<span class="n">topDict</span> <span class="o">=</span> <span class="n">topDictData</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">topDict</span><span class="p">,</span> <span class="s1">&#39;Private&#39;</span><span class="p">):</span>
			<span class="n">privateDict</span> <span class="o">=</span> <span class="n">topDict</span><span class="o">.</span><span class="n">Private</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">privateDict</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="n">opOrder</span> <span class="o">=</span> <span class="n">buildOrder</span><span class="p">(</span><span class="n">topDictOperators2</span><span class="p">)</span>
		<span class="n">topDict</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">opOrder</span>
		<span class="n">topDict</span><span class="o">.</span><span class="n">cff2GetGlyphOrder</span> <span class="o">=</span> <span class="n">cff2GetGlyphOrder</span>
		<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">topDictOperators</span><span class="p">:</span>
			<span class="n">key</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
			<span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">opOrder</span><span class="p">:</span>
				<span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">topDict</span><span class="o">.</span><span class="n">rawDict</span><span class="p">:</span>
					<span class="k">del</span> <span class="n">topDict</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
				<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">topDict</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
					<span class="nb">delattr</span><span class="p">(</span><span class="n">topDict</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>

		<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">topDict</span><span class="p">,</span> <span class="s2">&quot;FDArray&quot;</span><span class="p">):</span>
			<span class="n">fdArray</span> <span class="o">=</span> <span class="n">topDict</span><span class="o">.</span><span class="n">FDArray</span> <span class="o">=</span> <span class="n">FDArrayIndex</span><span class="p">()</span>
			<span class="n">fdArray</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="n">fdArray</span><span class="o">.</span><span class="n">GlobalSubrs</span> <span class="o">=</span> <span class="n">topDict</span><span class="o">.</span><span class="n">GlobalSubrs</span>
			<span class="n">topDict</span><span class="o">.</span><span class="n">GlobalSubrs</span><span class="o">.</span><span class="n">fdArray</span> <span class="o">=</span> <span class="n">fdArray</span>
			<span class="n">charStrings</span> <span class="o">=</span> <span class="n">topDict</span><span class="o">.</span><span class="n">CharStrings</span>
			<span class="k">if</span> <span class="n">charStrings</span><span class="o">.</span><span class="n">charStringsAreIndexed</span><span class="p">:</span>
				<span class="n">charStrings</span><span class="o">.</span><span class="n">charStringsIndex</span><span class="o">.</span><span class="n">fdArray</span> <span class="o">=</span> <span class="n">fdArray</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">charStrings</span><span class="o">.</span><span class="n">fdArray</span> <span class="o">=</span> <span class="n">fdArray</span>
			<span class="n">fontDict</span> <span class="o">=</span> <span class="n">FontDict</span><span class="p">()</span>
			<span class="n">fontDict</span><span class="o">.</span><span class="n">setCFF2</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
			<span class="n">fdArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fontDict</span><span class="p">)</span>
			<span class="n">fontDict</span><span class="o">.</span><span class="n">Private</span> <span class="o">=</span> <span class="n">privateDict</span>
			<span class="n">privateOpOrder</span> <span class="o">=</span> <span class="n">buildOrder</span><span class="p">(</span><span class="n">privateDictOperators2</span><span class="p">)</span>
			<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">privateDictOperators</span><span class="p">:</span>
				<span class="n">key</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
				<span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">privateOpOrder</span><span class="p">:</span>
					<span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">privateDict</span><span class="o">.</span><span class="n">rawDict</span><span class="p">:</span>
						<span class="c1"># print &quot;Removing private dict&quot;, key</span>
						<span class="k">del</span> <span class="n">privateDict</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
					<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">privateDict</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
						<span class="nb">delattr</span><span class="p">(</span><span class="n">privateDict</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
						<span class="c1"># print &quot;Removing privateDict attr&quot;, key</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="c1"># clean up the PrivateDicts in the fdArray</span>
			<span class="n">fdArray</span> <span class="o">=</span> <span class="n">topDict</span><span class="o">.</span><span class="n">FDArray</span>
			<span class="n">privateOpOrder</span> <span class="o">=</span> <span class="n">buildOrder</span><span class="p">(</span><span class="n">privateDictOperators2</span><span class="p">)</span>
			<span class="k">for</span> <span class="n">fontDict</span> <span class="ow">in</span> <span class="n">fdArray</span><span class="p">:</span>
				<span class="n">fontDict</span><span class="o">.</span><span class="n">setCFF2</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
				<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">fontDict</span><span class="o">.</span><span class="n">rawDict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
					<span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fontDict</span><span class="o">.</span><span class="n">order</span><span class="p">:</span>
						<span class="k">del</span> <span class="n">fontDict</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
						<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">fontDict</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
							<span class="nb">delattr</span><span class="p">(</span><span class="n">fontDict</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>

				<span class="n">privateDict</span> <span class="o">=</span> <span class="n">fontDict</span><span class="o">.</span><span class="n">Private</span>
				<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">privateDictOperators</span><span class="p">:</span>
					<span class="n">key</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
					<span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">privateOpOrder</span><span class="p">:</span>
						<span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">privateDict</span><span class="o">.</span><span class="n">rawDict</span><span class="p">:</span>
							<span class="c1"># print &quot;Removing private dict&quot;, key</span>
							<span class="k">del</span> <span class="n">privateDict</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
						<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">privateDict</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
							<span class="nb">delattr</span><span class="p">(</span><span class="n">privateDict</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
							<span class="c1"># print &quot;Removing privateDict attr&quot;, key</span>
		<span class="c1"># At this point, the Subrs and Charstrings are all still T2Charstring class</span>
		<span class="c1"># easiest to fix this by compiling, then decompiling again</span>
		<span class="n">file</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">otFont</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
		<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">decompile</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">otFont</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CFFWriter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFWriter">[docs]</a><span class="k">class</span> <span class="nc">CFFWriter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">isCFF2</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span> <span class="o">=</span> <span class="n">isCFF2</span>

<div class="viewcode-block" id="CFFWriter.add"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFWriter.add">[docs]</a>	<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">table</span><span class="p">)</span></div>

<div class="viewcode-block" id="CFFWriter.toFile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CFFWriter.toFile">[docs]</a>	<span class="k">def</span> <span class="nf">toFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
		<span class="n">lastPosList</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
		<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
			<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;CFFWriter.toFile() iteration: </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
			<span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
			<span class="n">pos</span> <span class="o">=</span> <span class="mi">0</span>
			<span class="n">posList</span> <span class="o">=</span> <span class="p">[</span><span class="n">pos</span><span class="p">]</span>
			<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;getDataLength&quot;</span><span class="p">):</span>
					<span class="n">endPos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="n">item</span><span class="o">.</span><span class="n">getDataLength</span><span class="p">()</span>
					<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">TopDictIndexCompiler</span><span class="p">)</span> <span class="ow">and</span> <span class="n">item</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">:</span>
						<span class="bp">self</span><span class="o">.</span><span class="n">topDictSize</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">getDataLength</span><span class="p">()</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="n">endPos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
				<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;setPos&quot;</span><span class="p">):</span>
					<span class="n">item</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">)</span>
				<span class="n">pos</span> <span class="o">=</span> <span class="n">endPos</span>
				<span class="n">posList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">posList</span> <span class="o">==</span> <span class="n">lastPosList</span><span class="p">:</span>
				<span class="k">break</span>
			<span class="n">lastPosList</span> <span class="o">=</span> <span class="n">posList</span>
		<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;CFFWriter.toFile() writing to file.&quot;</span><span class="p">)</span>
		<span class="n">begin</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&gt;H&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">topDictSize</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">offSize</span> <span class="o">=</span> <span class="n">calcOffSize</span><span class="p">(</span><span class="n">lastPosList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">offSize</span><span class="p">)</span>
		<span class="n">posList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
		<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;toFile&quot;</span><span class="p">):</span>
				<span class="n">item</span><span class="o">.</span><span class="n">toFile</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
			<span class="n">posList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span> <span class="o">-</span> <span class="n">begin</span><span class="p">)</span>
		<span class="k">assert</span> <span class="n">posList</span> <span class="o">==</span> <span class="n">lastPosList</span></div></div>


<div class="viewcode-block" id="calcOffSize"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.calcOffSize">[docs]</a><span class="k">def</span> <span class="nf">calcOffSize</span><span class="p">(</span><span class="n">largestOffset</span><span class="p">):</span>
	<span class="k">if</span> <span class="n">largestOffset</span> <span class="o">&lt;</span> <span class="mh">0x100</span><span class="p">:</span>
		<span class="n">offSize</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="k">elif</span> <span class="n">largestOffset</span> <span class="o">&lt;</span> <span class="mh">0x10000</span><span class="p">:</span>
		<span class="n">offSize</span> <span class="o">=</span> <span class="mi">2</span>
	<span class="k">elif</span> <span class="n">largestOffset</span> <span class="o">&lt;</span> <span class="mh">0x1000000</span><span class="p">:</span>
		<span class="n">offSize</span> <span class="o">=</span> <span class="mi">3</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">offSize</span> <span class="o">=</span> <span class="mi">4</span>
	<span class="k">return</span> <span class="n">offSize</span></div>


<div class="viewcode-block" id="IndexCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexCompiler">[docs]</a><span class="k">class</span> <span class="nc">IndexCompiler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">isCFF2</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;isCFF2&quot;</span><span class="p">):</span>
			<span class="n">isCFF2</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">isCFF2</span>
			<span class="k">assert</span> <span class="n">isCFF2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span> <span class="o">=</span> <span class="n">isCFF2</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getItems</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">strings</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>

<div class="viewcode-block" id="IndexCompiler.getItems"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexCompiler.getItems">[docs]</a>	<span class="k">def</span> <span class="nf">getItems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">items</span></div>

<div class="viewcode-block" id="IndexCompiler.getOffsets"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexCompiler.getOffsets">[docs]</a>	<span class="k">def</span> <span class="nf">getOffsets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># An empty INDEX contains only the count field.</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
			<span class="n">pos</span> <span class="o">=</span> <span class="mi">1</span>
			<span class="n">offsets</span> <span class="o">=</span> <span class="p">[</span><span class="n">pos</span><span class="p">]</span>
			<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;getDataLength&quot;</span><span class="p">):</span>
					<span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="n">item</span><span class="o">.</span><span class="n">getDataLength</span><span class="p">()</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
				<span class="n">offsets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">offsets</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">return</span> <span class="n">offsets</span></div>

<div class="viewcode-block" id="IndexCompiler.getDataLength"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexCompiler.getDataLength">[docs]</a>	<span class="k">def</span> <span class="nf">getDataLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">:</span>
			<span class="n">countSize</span> <span class="o">=</span> <span class="mi">4</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">countSize</span> <span class="o">=</span> <span class="mi">2</span>

		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
			<span class="n">lastOffset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOffsets</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
			<span class="n">offSize</span> <span class="o">=</span> <span class="n">calcOffSize</span><span class="p">(</span><span class="n">lastOffset</span><span class="p">)</span>
			<span class="n">dataLength</span> <span class="o">=</span> <span class="p">(</span>
				<span class="n">countSize</span> <span class="o">+</span>                        <span class="c1"># count</span>
				<span class="mi">1</span> <span class="o">+</span>                                <span class="c1"># offSize</span>
				<span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">offSize</span> <span class="o">+</span>  <span class="c1"># the offsets</span>
				<span class="n">lastOffset</span> <span class="o">-</span> <span class="mi">1</span>                     <span class="c1"># size of object data</span>
			<span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="c1"># count. For empty INDEX tables, this is the only entry.</span>
			<span class="n">dataLength</span> <span class="o">=</span> <span class="n">countSize</span>

		<span class="k">return</span> <span class="n">dataLength</span></div>

<div class="viewcode-block" id="IndexCompiler.toFile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexCompiler.toFile">[docs]</a>	<span class="k">def</span> <span class="nf">toFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
		<span class="n">offsets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOffsets</span><span class="p">()</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">:</span>
			<span class="n">writeCard32</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">))</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">writeCard16</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">))</span>
		<span class="c1"># An empty INDEX contains only the count field.</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
			<span class="n">offSize</span> <span class="o">=</span> <span class="n">calcOffSize</span><span class="p">(</span><span class="n">offsets</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
			<span class="n">writeCard8</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">offSize</span><span class="p">)</span>
			<span class="n">offSize</span> <span class="o">=</span> <span class="o">-</span><span class="n">offSize</span>
			<span class="n">pack</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span>
			<span class="k">for</span> <span class="n">offset</span> <span class="ow">in</span> <span class="n">offsets</span><span class="p">:</span>
				<span class="n">binOffset</span> <span class="o">=</span> <span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&gt;l&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">)[</span><span class="n">offSize</span><span class="p">:]</span>
				<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">binOffset</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="n">offSize</span>
				<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">binOffset</span><span class="p">)</span>
			<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;toFile&quot;</span><span class="p">):</span>
					<span class="n">item</span><span class="o">.</span><span class="n">toFile</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="n">data</span> <span class="o">=</span> <span class="n">tobytes</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;latin1&quot;</span><span class="p">)</span>
					<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="IndexedStringsCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexedStringsCompiler">[docs]</a><span class="k">class</span> <span class="nc">IndexedStringsCompiler</span><span class="p">(</span><span class="n">IndexCompiler</span><span class="p">):</span>

<div class="viewcode-block" id="IndexedStringsCompiler.getItems"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexedStringsCompiler.getItems">[docs]</a>	<span class="k">def</span> <span class="nf">getItems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">strings</span></div></div>


<div class="viewcode-block" id="TopDictIndexCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictIndexCompiler">[docs]</a><span class="k">class</span> <span class="nc">TopDictIndexCompiler</span><span class="p">(</span><span class="n">IndexCompiler</span><span class="p">):</span>

<div class="viewcode-block" id="TopDictIndexCompiler.getItems"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictIndexCompiler.getItems">[docs]</a>	<span class="k">def</span> <span class="nf">getItems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
			<span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">out</span></div>

<div class="viewcode-block" id="TopDictIndexCompiler.getChildren"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictIndexCompiler.getChildren">[docs]</a>	<span class="k">def</span> <span class="nf">getChildren</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">topDict</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
			<span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">topDict</span><span class="o">.</span><span class="n">getChildren</span><span class="p">(</span><span class="n">strings</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">children</span></div>

<div class="viewcode-block" id="TopDictIndexCompiler.getOffsets"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictIndexCompiler.getOffsets">[docs]</a>	<span class="k">def</span> <span class="nf">getOffsets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">:</span>
			<span class="n">offsets</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getDataLength</span><span class="p">()]</span>
			<span class="k">return</span> <span class="n">offsets</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">TopDictIndexCompiler</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">getOffsets</span><span class="p">()</span></div>

<div class="viewcode-block" id="TopDictIndexCompiler.getDataLength"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictIndexCompiler.getDataLength">[docs]</a>	<span class="k">def</span> <span class="nf">getDataLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">:</span>
			<span class="n">dataLength</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getDataLength</span><span class="p">()</span>
			<span class="k">return</span> <span class="n">dataLength</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">TopDictIndexCompiler</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">getDataLength</span><span class="p">()</span></div>

<div class="viewcode-block" id="TopDictIndexCompiler.toFile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictIndexCompiler.toFile">[docs]</a>	<span class="k">def</span> <span class="nf">toFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">toFile</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">TopDictIndexCompiler</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">toFile</span><span class="p">(</span><span class="n">file</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="FDArrayIndexCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayIndexCompiler">[docs]</a><span class="k">class</span> <span class="nc">FDArrayIndexCompiler</span><span class="p">(</span><span class="n">IndexCompiler</span><span class="p">):</span>

<div class="viewcode-block" id="FDArrayIndexCompiler.getItems"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayIndexCompiler.getItems">[docs]</a>	<span class="k">def</span> <span class="nf">getItems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
			<span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">out</span></div>

<div class="viewcode-block" id="FDArrayIndexCompiler.getChildren"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayIndexCompiler.getChildren">[docs]</a>	<span class="k">def</span> <span class="nf">getChildren</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">fontDict</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
			<span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">fontDict</span><span class="o">.</span><span class="n">getChildren</span><span class="p">(</span><span class="n">strings</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">children</span></div>

<div class="viewcode-block" id="FDArrayIndexCompiler.toFile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayIndexCompiler.toFile">[docs]</a>	<span class="k">def</span> <span class="nf">toFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
		<span class="n">offsets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOffsets</span><span class="p">()</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">:</span>
			<span class="n">writeCard32</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">))</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">writeCard16</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">))</span>
		<span class="n">offSize</span> <span class="o">=</span> <span class="n">calcOffSize</span><span class="p">(</span><span class="n">offsets</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
		<span class="n">writeCard8</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">offSize</span><span class="p">)</span>
		<span class="n">offSize</span> <span class="o">=</span> <span class="o">-</span><span class="n">offSize</span>
		<span class="n">pack</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span>
		<span class="k">for</span> <span class="n">offset</span> <span class="ow">in</span> <span class="n">offsets</span><span class="p">:</span>
			<span class="n">binOffset</span> <span class="o">=</span> <span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&gt;l&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">)[</span><span class="n">offSize</span><span class="p">:]</span>
			<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">binOffset</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="n">offSize</span>
			<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">binOffset</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;toFile&quot;</span><span class="p">):</span>
				<span class="n">item</span><span class="o">.</span><span class="n">toFile</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="FDArrayIndexCompiler.setPos"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayIndexCompiler.setPos">[docs]</a>	<span class="k">def</span> <span class="nf">setPos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="s2">&quot;FDArray&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pos</span></div></div>


<div class="viewcode-block" id="GlobalSubrsCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.GlobalSubrsCompiler">[docs]</a><span class="k">class</span> <span class="nc">GlobalSubrsCompiler</span><span class="p">(</span><span class="n">IndexCompiler</span><span class="p">):</span>

<div class="viewcode-block" id="GlobalSubrsCompiler.getItems"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.GlobalSubrsCompiler.getItems">[docs]</a>	<span class="k">def</span> <span class="nf">getItems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">cs</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
			<span class="n">cs</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">)</span>
			<span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cs</span><span class="o">.</span><span class="n">bytecode</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">out</span></div></div>


<div class="viewcode-block" id="SubrsCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SubrsCompiler">[docs]</a><span class="k">class</span> <span class="nc">SubrsCompiler</span><span class="p">(</span><span class="n">GlobalSubrsCompiler</span><span class="p">):</span>

<div class="viewcode-block" id="SubrsCompiler.setPos"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SubrsCompiler.setPos">[docs]</a>	<span class="k">def</span> <span class="nf">setPos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">):</span>
		<span class="n">offset</span> <span class="o">=</span> <span class="n">pos</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">pos</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="s2">&quot;Subrs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">offset</span></div></div>


<div class="viewcode-block" id="CharStringsCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStringsCompiler">[docs]</a><span class="k">class</span> <span class="nc">CharStringsCompiler</span><span class="p">(</span><span class="n">GlobalSubrsCompiler</span><span class="p">):</span>

<div class="viewcode-block" id="CharStringsCompiler.getItems"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStringsCompiler.getItems">[docs]</a>	<span class="k">def</span> <span class="nf">getItems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">cs</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
			<span class="n">cs</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span><span class="p">)</span>
			<span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cs</span><span class="o">.</span><span class="n">bytecode</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">out</span></div>

<div class="viewcode-block" id="CharStringsCompiler.setPos"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStringsCompiler.setPos">[docs]</a>	<span class="k">def</span> <span class="nf">setPos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="s2">&quot;CharStrings&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pos</span></div></div>


<div class="viewcode-block" id="Index"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.Index">[docs]</a><span class="k">class</span> <span class="nc">Index</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="sd">&quot;&quot;&quot;This class represents what the CFF spec calls an INDEX.&quot;&quot;&quot;</span>

	<span class="n">compilerClass</span> <span class="o">=</span> <span class="n">IndexCompiler</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="k">assert</span> <span class="p">(</span><span class="n">isCFF2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
		<span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_isCFF2</span> <span class="o">=</span> <span class="n">isCFF2</span>
		<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;loading </span><span class="si">%s</span><span class="s2"> at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">())</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span>
		<span class="k">if</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="n">count</span> <span class="o">=</span> <span class="n">readCard32</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">count</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
			<span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">count</span>
		<span class="n">offSize</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;    index count: </span><span class="si">%s</span><span class="s2"> offSize: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">offSize</span><span class="p">)</span>
		<span class="k">assert</span> <span class="n">offSize</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;offSize too large: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">offSize</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">offsets</span> <span class="o">=</span> <span class="n">offsets</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">pad</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\0</span><span class="s1">&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">-</span> <span class="n">offSize</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
			<span class="n">chunk</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">offSize</span><span class="p">)</span>
			<span class="n">chunk</span> <span class="o">=</span> <span class="n">pad</span> <span class="o">+</span> <span class="n">chunk</span>
			<span class="n">offset</span><span class="p">,</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&gt;L&quot;</span><span class="p">,</span> <span class="n">chunk</span><span class="p">)</span>
			<span class="n">offsets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">offset</span><span class="p">))</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">offsetBase</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span>
		<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">offsetBase</span> <span class="o">+</span> <span class="n">offsets</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># pretend we&#39;ve read the whole lot</span>
		<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;    end of </span><span class="si">%s</span><span class="s2"> at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">())</span>

	<span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
		<span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">return</span> <span class="n">item</span>
		<span class="n">offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">offsets</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">offsetBase</span>
		<span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">offsets</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">offsets</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
		<span class="n">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span>
		<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
		<span class="n">data</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
		<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="n">size</span>
		<span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">produceItem</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span>
		<span class="k">return</span> <span class="n">item</span>

	<span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span>

<div class="viewcode-block" id="Index.produceItem"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.Index.produceItem">[docs]</a>	<span class="k">def</span> <span class="nf">produceItem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">data</span></div>

<div class="viewcode-block" id="Index.append"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.Index.append">[docs]</a>	<span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="Index.getCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.Index.getCompiler">[docs]</a>	<span class="k">def</span> <span class="nf">getCompiler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">compilerClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span></div>

<div class="viewcode-block" id="Index.clear"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.Index.clear">[docs]</a>	<span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[:]</span></div></div>


<div class="viewcode-block" id="GlobalSubrsIndex"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.GlobalSubrsIndex">[docs]</a><span class="k">class</span> <span class="nc">GlobalSubrsIndex</span><span class="p">(</span><span class="n">Index</span><span class="p">):</span>

	<span class="n">compilerClass</span> <span class="o">=</span> <span class="n">GlobalSubrsCompiler</span>
	<span class="n">subrClass</span> <span class="o">=</span> <span class="n">psCharStrings</span><span class="o">.</span><span class="n">T2CharString</span>
	<span class="n">charStringClass</span> <span class="o">=</span> <span class="n">psCharStrings</span><span class="o">.</span><span class="n">T2CharString</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">globalSubrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">private</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
			<span class="n">fdSelect</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fdArray</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">GlobalSubrsIndex</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">globalSubrs</span> <span class="o">=</span> <span class="n">globalSubrs</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">private</span> <span class="o">=</span> <span class="n">private</span>
		<span class="k">if</span> <span class="n">fdSelect</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">fdSelect</span> <span class="o">=</span> <span class="n">fdSelect</span>
		<span class="k">if</span> <span class="n">fdArray</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">fdArray</span> <span class="o">=</span> <span class="n">fdArray</span>

<div class="viewcode-block" id="GlobalSubrsIndex.produceItem"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.GlobalSubrsIndex.produceItem">[docs]</a>	<span class="k">def</span> <span class="nf">produceItem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">private</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">private</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">private</span>
		<span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;fdArray&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdArray</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;fdSelect&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdSelect</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
				<span class="n">fdIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdSelect</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">fdIndex</span> <span class="o">=</span> <span class="mi">0</span>
			<span class="n">private</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdArray</span><span class="p">[</span><span class="n">fdIndex</span><span class="p">]</span><span class="o">.</span><span class="n">Private</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">private</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">subrClass</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">private</span><span class="o">=</span><span class="n">private</span><span class="p">,</span> <span class="n">globalSubrs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">globalSubrs</span><span class="p">)</span></div>

<div class="viewcode-block" id="GlobalSubrsIndex.toXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.GlobalSubrsIndex.toXML">[docs]</a>	<span class="k">def</span> <span class="nf">toXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">):</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">comment</span><span class="p">(</span>
			<span class="s2">&quot;The &#39;index&#39; attribute is only for humans; &quot;</span>
			<span class="s2">&quot;it is ignored when parsed.&quot;</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
			<span class="n">subr</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
			<span class="k">if</span> <span class="n">subr</span><span class="o">.</span><span class="n">needsDecompilation</span><span class="p">():</span>
				<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="s2">&quot;CharString&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="s2">&quot;CharString&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="n">subr</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="s2">&quot;CharString&quot;</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="GlobalSubrsIndex.fromXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.GlobalSubrsIndex.fromXML">[docs]</a>	<span class="k">def</span> <span class="nf">fromXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;CharString&quot;</span><span class="p">:</span>
			<span class="k">return</span>
		<span class="n">subr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subrClass</span><span class="p">()</span>
		<span class="n">subr</span><span class="o">.</span><span class="n">fromXML</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subr</span><span class="p">)</span></div>

<div class="viewcode-block" id="GlobalSubrsIndex.getItemAndSelector"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.GlobalSubrsIndex.getItemAndSelector">[docs]</a>	<span class="k">def</span> <span class="nf">getItemAndSelector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">sel</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;fdSelect&#39;</span><span class="p">):</span>
			<span class="n">sel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdSelect</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
		<span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">sel</span></div></div>


<div class="viewcode-block" id="SubrsIndex"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SubrsIndex">[docs]</a><span class="k">class</span> <span class="nc">SubrsIndex</span><span class="p">(</span><span class="n">GlobalSubrsIndex</span><span class="p">):</span>
	<span class="n">compilerClass</span> <span class="o">=</span> <span class="n">SubrsCompiler</span></div>


<div class="viewcode-block" id="TopDictIndex"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictIndex">[docs]</a><span class="k">class</span> <span class="nc">TopDictIndex</span><span class="p">(</span><span class="n">Index</span><span class="p">):</span>

	<span class="n">compilerClass</span> <span class="o">=</span> <span class="n">TopDictIndexCompiler</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cff2GetGlyphOrder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">topSize</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
			<span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="k">assert</span> <span class="p">(</span><span class="n">isCFF2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cff2GetGlyphOrder</span> <span class="o">=</span> <span class="n">cff2GetGlyphOrder</span>
		<span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_isCFF2</span> <span class="o">=</span> <span class="n">isCFF2</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
			<span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
			<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;loading </span><span class="si">%s</span><span class="s2"> at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">())</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span>
			<span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">count</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">offsets</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">topSize</span><span class="p">]</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">offsetBase</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
			<span class="c1"># pretend we&#39;ve read the whole lot</span>
			<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">offsetBase</span> <span class="o">+</span> <span class="n">topSize</span><span class="p">)</span>
			<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;    end of </span><span class="si">%s</span><span class="s2"> at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">())</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="nb">super</span><span class="p">(</span><span class="n">TopDictIndex</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>

<div class="viewcode-block" id="TopDictIndex.produceItem"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictIndex.produceItem">[docs]</a>	<span class="k">def</span> <span class="nf">produceItem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
		<span class="n">top</span> <span class="o">=</span> <span class="n">TopDict</span><span class="p">(</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span><span class="p">,</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">cff2GetGlyphOrder</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_isCFF2</span><span class="p">)</span>
		<span class="n">top</span><span class="o">.</span><span class="n">decompile</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">top</span></div>

<div class="viewcode-block" id="TopDictIndex.toXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictIndex.toXML">[docs]</a>	<span class="k">def</span> <span class="nf">toXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">):</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="s2">&quot;FontDict&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="s2">&quot;FontDict&quot;</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="FDArrayIndex"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayIndex">[docs]</a><span class="k">class</span> <span class="nc">FDArrayIndex</span><span class="p">(</span><span class="n">Index</span><span class="p">):</span>

	<span class="n">compilerClass</span> <span class="o">=</span> <span class="n">FDArrayIndexCompiler</span>

<div class="viewcode-block" id="FDArrayIndex.toXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayIndex.toXML">[docs]</a>	<span class="k">def</span> <span class="nf">toXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">):</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="s2">&quot;FontDict&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="s2">&quot;FontDict&quot;</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="FDArrayIndex.produceItem"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayIndex.produceItem">[docs]</a>	<span class="k">def</span> <span class="nf">produceItem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
		<span class="n">fontDict</span> <span class="o">=</span> <span class="n">FontDict</span><span class="p">(</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_isCFF2</span><span class="p">,</span>
			<span class="n">vstore</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vstore</span><span class="p">)</span>
		<span class="n">fontDict</span><span class="o">.</span><span class="n">decompile</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">fontDict</span></div>

<div class="viewcode-block" id="FDArrayIndex.fromXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayIndex.fromXML">[docs]</a>	<span class="k">def</span> <span class="nf">fromXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;FontDict&quot;</span><span class="p">:</span>
			<span class="k">return</span>
		<span class="n">fontDict</span> <span class="o">=</span> <span class="n">FontDict</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
				<span class="k">continue</span>
			<span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="n">element</span>
			<span class="n">fontDict</span><span class="o">.</span><span class="n">fromXML</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fontDict</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="VarStoreData"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreData">[docs]</a><span class="k">class</span> <span class="nc">VarStoreData</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">otVarStore</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">otVarStore</span> <span class="o">=</span> <span class="n">otVarStore</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">TTFont</span><span class="p">()</span>  <span class="c1"># dummy font for the decompile function.</span>

<div class="viewcode-block" id="VarStoreData.decompile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreData.decompile">[docs]</a>	<span class="k">def</span> <span class="nf">decompile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">:</span>
			<span class="k">class</span> <span class="nc">GlobalState</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
				<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tableType</span><span class="p">,</span> <span class="n">cachingStats</span><span class="p">):</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">tableType</span> <span class="o">=</span> <span class="n">tableType</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">cachingStats</span> <span class="o">=</span> <span class="n">cachingStats</span>
			<span class="n">globalState</span> <span class="o">=</span> <span class="n">GlobalState</span><span class="p">(</span><span class="n">tableType</span><span class="o">=</span><span class="s2">&quot;VarStore&quot;</span><span class="p">,</span> <span class="n">cachingStats</span><span class="o">=</span><span class="p">{})</span>
			<span class="c1"># read data in from file. Assume position is correct.</span>
			<span class="n">length</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
			<span class="n">globalState</span> <span class="o">=</span> <span class="p">{}</span>
			<span class="n">reader</span> <span class="o">=</span> <span class="n">OTTableReader</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">globalState</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">otVarStore</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">VarStore</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">otVarStore</span><span class="o">.</span><span class="n">decompile</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>
		<span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="VarStoreData.compile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreData.compile">[docs]</a>	<span class="k">def</span> <span class="nf">compile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">writer</span> <span class="o">=</span> <span class="n">OTTableWriter</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">otVarStore</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>
		<span class="c1"># Note that this omits the initial Card16 length from the CFF2</span>
		<span class="c1"># VarStore data block</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">getAllData</span><span class="p">()</span></div>

<div class="viewcode-block" id="VarStoreData.writeXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreData.writeXML">[docs]</a>	<span class="k">def</span> <span class="nf">writeXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">otVarStore</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarStoreData.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreData.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">otVarStore</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">VarStore</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
				<span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="n">element</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">otVarStore</span><span class="o">.</span><span class="n">fromXML</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">pass</span>
		<span class="k">return</span> <span class="kc">None</span></div>

	<span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

<div class="viewcode-block" id="VarStoreData.getNumRegions"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreData.getNumRegions">[docs]</a>	<span class="k">def</span> <span class="nf">getNumRegions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vsIndex</span><span class="p">):</span>
		<span class="n">varData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">otVarStore</span><span class="o">.</span><span class="n">VarData</span><span class="p">[</span><span class="n">vsIndex</span><span class="p">]</span>
		<span class="n">numRegions</span> <span class="o">=</span> <span class="n">varData</span><span class="o">.</span><span class="n">VarRegionCount</span>
		<span class="k">return</span> <span class="n">numRegions</span></div></div>


<div class="viewcode-block" id="FDSelect"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelect">[docs]</a><span class="k">class</span> <span class="nc">FDSelect</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">numGlyphs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">file</span><span class="p">:</span>
			<span class="c1"># read data in from file</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
				<span class="kn">from</span> <span class="nn">array</span> <span class="k">import</span> <span class="n">array</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">gidArray</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">numGlyphs</span><span class="p">))</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
			<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
				<span class="n">gidArray</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">numGlyphs</span>
				<span class="n">nRanges</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
				<span class="n">fd</span> <span class="o">=</span> <span class="kc">None</span>
				<span class="n">prev</span> <span class="o">=</span> <span class="kc">None</span>
				<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nRanges</span><span class="p">):</span>
					<span class="n">first</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
					<span class="k">if</span> <span class="n">prev</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
						<span class="k">for</span> <span class="n">glyphID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span> <span class="n">first</span><span class="p">):</span>
							<span class="n">gidArray</span><span class="p">[</span><span class="n">glyphID</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd</span>
					<span class="n">prev</span> <span class="o">=</span> <span class="n">first</span>
					<span class="n">fd</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">prev</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
					<span class="n">first</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
					<span class="k">for</span> <span class="n">glyphID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span> <span class="n">first</span><span class="p">):</span>
						<span class="n">gidArray</span><span class="p">[</span><span class="n">glyphID</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">gidArray</span> <span class="o">=</span> <span class="n">gidArray</span>
			<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
				<span class="n">gidArray</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">numGlyphs</span>
				<span class="n">nRanges</span> <span class="o">=</span> <span class="n">readCard32</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
				<span class="n">fd</span> <span class="o">=</span> <span class="kc">None</span>
				<span class="n">prev</span> <span class="o">=</span> <span class="kc">None</span>
				<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nRanges</span><span class="p">):</span>
					<span class="n">first</span> <span class="o">=</span> <span class="n">readCard32</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
					<span class="k">if</span> <span class="n">prev</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
						<span class="k">for</span> <span class="n">glyphID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span> <span class="n">first</span><span class="p">):</span>
							<span class="n">gidArray</span><span class="p">[</span><span class="n">glyphID</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd</span>
					<span class="n">prev</span> <span class="o">=</span> <span class="n">first</span>
					<span class="n">fd</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">prev</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
					<span class="n">first</span> <span class="o">=</span> <span class="n">readCard32</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
					<span class="k">for</span> <span class="n">glyphID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">prev</span><span class="p">,</span> <span class="n">first</span><span class="p">):</span>
						<span class="n">gidArray</span><span class="p">[</span><span class="n">glyphID</span><span class="p">]</span> <span class="o">=</span> <span class="n">fd</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">gidArray</span> <span class="o">=</span> <span class="n">gidArray</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;unsupported FDSelect format: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">format</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="c1"># reading from XML. Make empty gidArray, and leave format as passed in.</span>
			<span class="c1"># format is None will result in the smallest representation being used.</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="nb">format</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">gidArray</span> <span class="o">=</span> <span class="p">[]</span>

	<span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gidArray</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gidArray</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

	<span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">fdSelectValue</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">gidArray</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">fdSelectValue</span>

<div class="viewcode-block" id="FDSelect.append"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelect.append">[docs]</a>	<span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fdSelectValue</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">gidArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fdSelectValue</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CharStrings"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStrings">[docs]</a><span class="k">class</span> <span class="nc">CharStrings</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">charset</span><span class="p">,</span> <span class="n">globalSubrs</span><span class="p">,</span> <span class="n">private</span><span class="p">,</span> <span class="n">fdSelect</span><span class="p">,</span> <span class="n">fdArray</span><span class="p">,</span>
			<span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">globalSubrs</span> <span class="o">=</span> <span class="n">globalSubrs</span>
		<span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">charStringsIndex</span> <span class="o">=</span> <span class="n">SubrsIndex</span><span class="p">(</span>
				<span class="n">file</span><span class="p">,</span> <span class="n">globalSubrs</span><span class="p">,</span> <span class="n">private</span><span class="p">,</span> <span class="n">fdSelect</span><span class="p">,</span> <span class="n">fdArray</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span> <span class="o">=</span> <span class="n">charStrings</span> <span class="o">=</span> <span class="p">{}</span>
			<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">charset</span><span class="p">)):</span>
				<span class="n">charStrings</span><span class="p">[</span><span class="n">charset</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span>
			<span class="c1"># read from OTF file: charStrings.values() are indices into</span>
			<span class="c1"># charStringsIndex.</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">charStringsAreIndexed</span> <span class="o">=</span> <span class="mi">1</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span> <span class="o">=</span> <span class="p">{}</span>
			<span class="c1"># read from ttx file: charStrings.values() are actual charstrings</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">charStringsAreIndexed</span> <span class="o">=</span> <span class="mi">0</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">private</span> <span class="o">=</span> <span class="n">private</span>
			<span class="k">if</span> <span class="n">fdSelect</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">fdSelect</span> <span class="o">=</span> <span class="n">fdSelect</span>
			<span class="k">if</span> <span class="n">fdArray</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">fdArray</span> <span class="o">=</span> <span class="n">fdArray</span>

<div class="viewcode-block" id="CharStrings.keys"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStrings.keys">[docs]</a>	<span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>

<div class="viewcode-block" id="CharStrings.values"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStrings.values">[docs]</a>	<span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStringsAreIndexed</span><span class="p">:</span>
			<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStringsIndex</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span><span class="o">.</span><span class="n">values</span><span class="p">())</span></div>

<div class="viewcode-block" id="CharStrings.has_key"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStrings.has_key">[docs]</a>	<span class="k">def</span> <span class="nf">has_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span></div>

	<span class="fm">__contains__</span> <span class="o">=</span> <span class="n">has_key</span>

	<span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
		<span class="n">charString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStringsAreIndexed</span><span class="p">:</span>
			<span class="n">charString</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStringsIndex</span><span class="p">[</span><span class="n">charString</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">charString</span>

	<span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">charString</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStringsAreIndexed</span><span class="p">:</span>
			<span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">charStringsIndex</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">charString</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">charString</span>

<div class="viewcode-block" id="CharStrings.getItemAndSelector"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStrings.getItemAndSelector">[docs]</a>	<span class="k">def</span> <span class="nf">getItemAndSelector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStringsAreIndexed</span><span class="p">:</span>
			<span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
			<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStringsIndex</span><span class="o">.</span><span class="n">getItemAndSelector</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;fdArray&#39;</span><span class="p">):</span>
				<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;fdSelect&#39;</span><span class="p">):</span>
					<span class="n">sel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">fdSelectIndex</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="n">sel</span> <span class="o">=</span> <span class="mi">0</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">sel</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">charStrings</span><span class="p">[</span><span class="n">name</span><span class="p">],</span> <span class="n">sel</span></div>

<div class="viewcode-block" id="CharStrings.toXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStrings.toXML">[docs]</a>	<span class="k">def</span> <span class="nf">toXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">):</span>
		<span class="n">names</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
		<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
			<span class="n">charStr</span><span class="p">,</span> <span class="n">fdSelectIndex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getItemAndSelector</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">charStr</span><span class="o">.</span><span class="n">needsDecompilation</span><span class="p">():</span>
				<span class="n">raw</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;raw&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">raw</span> <span class="o">=</span> <span class="p">[]</span>
			<span class="k">if</span> <span class="n">fdSelectIndex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
				<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="s2">&quot;CharString&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)]</span> <span class="o">+</span> <span class="n">raw</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span>
					<span class="s2">&quot;CharString&quot;</span><span class="p">,</span>
					<span class="p">[(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;fdSelectIndex&#39;</span><span class="p">,</span> <span class="n">fdSelectIndex</span><span class="p">)]</span> <span class="o">+</span> <span class="n">raw</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="n">charStr</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="s2">&quot;CharString&quot;</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="CharStrings.fromXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStrings.fromXML">[docs]</a>	<span class="k">def</span> <span class="nf">fromXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
		<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
				<span class="k">continue</span>
			<span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="n">element</span>
			<span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;CharString&quot;</span><span class="p">:</span>
				<span class="k">continue</span>
			<span class="n">fdID</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;fdArray&quot;</span><span class="p">):</span>
				<span class="k">try</span><span class="p">:</span>
					<span class="n">fdID</span> <span class="o">=</span> <span class="n">safeEval</span><span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;fdSelectIndex&quot;</span><span class="p">])</span>
				<span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
					<span class="n">fdID</span> <span class="o">=</span> <span class="mi">0</span>
				<span class="n">private</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdArray</span><span class="p">[</span><span class="n">fdID</span><span class="p">]</span><span class="o">.</span><span class="n">Private</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">private</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">private</span>

			<span class="n">glyphName</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
			<span class="n">charStringClass</span> <span class="o">=</span> <span class="n">psCharStrings</span><span class="o">.</span><span class="n">T2CharString</span>
			<span class="n">charString</span> <span class="o">=</span> <span class="n">charStringClass</span><span class="p">(</span>
					<span class="n">private</span><span class="o">=</span><span class="n">private</span><span class="p">,</span>
					<span class="n">globalSubrs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">globalSubrs</span><span class="p">)</span>
			<span class="n">charString</span><span class="o">.</span><span class="n">fromXML</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">fdID</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
				<span class="n">charString</span><span class="o">.</span><span class="n">fdSelectIndex</span> <span class="o">=</span> <span class="n">fdID</span>
			<span class="bp">self</span><span class="p">[</span><span class="n">glyphName</span><span class="p">]</span> <span class="o">=</span> <span class="n">charString</span></div></div>


<div class="viewcode-block" id="readCard8"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.readCard8">[docs]</a><span class="k">def</span> <span class="nf">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">byteord</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span></div>


<div class="viewcode-block" id="readCard16"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.readCard16">[docs]</a><span class="k">def</span> <span class="nf">readCard16</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
	<span class="n">value</span><span class="p">,</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&gt;H&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
	<span class="k">return</span> <span class="n">value</span></div>


<div class="viewcode-block" id="readCard32"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.readCard32">[docs]</a><span class="k">def</span> <span class="nf">readCard32</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
	<span class="n">value</span><span class="p">,</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&gt;L&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
	<span class="k">return</span> <span class="n">value</span></div>


<div class="viewcode-block" id="writeCard8"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.writeCard8">[docs]</a><span class="k">def</span> <span class="nf">writeCard8</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
	<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">bytechr</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div>


<div class="viewcode-block" id="writeCard16"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.writeCard16">[docs]</a><span class="k">def</span> <span class="nf">writeCard16</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
	<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&gt;H&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span></div>


<div class="viewcode-block" id="writeCard32"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.writeCard32">[docs]</a><span class="k">def</span> <span class="nf">writeCard32</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
	<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&gt;L&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span></div>


<div class="viewcode-block" id="packCard8"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packCard8">[docs]</a><span class="k">def</span> <span class="nf">packCard8</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">bytechr</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="packCard16"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packCard16">[docs]</a><span class="k">def</span> <span class="nf">packCard16</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&gt;H&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="packCard32"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packCard32">[docs]</a><span class="k">def</span> <span class="nf">packCard32</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s2">&quot;&gt;L&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="buildOperatorDict"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.buildOperatorDict">[docs]</a><span class="k">def</span> <span class="nf">buildOperatorDict</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
	<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
	<span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">conv</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
		<span class="n">d</span><span class="p">[</span><span class="n">op</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">d</span></div>


<div class="viewcode-block" id="buildOpcodeDict"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.buildOpcodeDict">[docs]</a><span class="k">def</span> <span class="nf">buildOpcodeDict</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
	<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
	<span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">conv</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
		<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
			<span class="n">op</span> <span class="o">=</span> <span class="n">bytechr</span><span class="p">(</span><span class="n">op</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">bytechr</span><span class="p">(</span><span class="n">op</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">op</span> <span class="o">=</span> <span class="n">bytechr</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>
		<span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">d</span></div>


<div class="viewcode-block" id="buildOrder"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.buildOrder">[docs]</a><span class="k">def</span> <span class="nf">buildOrder</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
	<span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">conv</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
		<span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">l</span></div>


<div class="viewcode-block" id="buildDefaults"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.buildDefaults">[docs]</a><span class="k">def</span> <span class="nf">buildDefaults</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
	<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
	<span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">conv</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
		<span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">default</span>
	<span class="k">return</span> <span class="n">d</span></div>


<div class="viewcode-block" id="buildConverters"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.buildConverters">[docs]</a><span class="k">def</span> <span class="nf">buildConverters</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
	<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
	<span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">conv</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
		<span class="n">d</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">conv</span>
	<span class="k">return</span> <span class="n">d</span></div>


<div class="viewcode-block" id="SimpleConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SimpleConverter">[docs]</a><span class="k">class</span> <span class="nc">SimpleConverter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

<div class="viewcode-block" id="SimpleConverter.read"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SimpleConverter.read">[docs]</a>	<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">):</span>
			<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
		<span class="n">file</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span>
		<span class="n">pos</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
		<span class="k">finally</span><span class="p">:</span>
			<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span></div>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">value</span>

<div class="viewcode-block" id="SimpleConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SimpleConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="SimpleConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SimpleConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="SimpleConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SimpleConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span></div></div>


<div class="viewcode-block" id="ASCIIConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ASCIIConverter">[docs]</a><span class="k">class</span> <span class="nc">ASCIIConverter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">tostr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="ASCIIConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ASCIIConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">tobytes</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ASCIIConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ASCIIConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">tounicode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="ASCIIConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ASCIIConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">tobytes</span><span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">],</span> <span class="n">encoding</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="Latin1Converter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.Latin1Converter">[docs]</a><span class="k">class</span> <span class="nc">Latin1Converter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">tostr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="Latin1Converter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.Latin1Converter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">tobytes</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Latin1Converter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.Latin1Converter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">value</span> <span class="o">=</span> <span class="n">tounicode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;latin1&quot;</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Notice&#39;</span><span class="p">,</span> <span class="s1">&#39;Copyright&#39;</span><span class="p">]:</span>
			<span class="n">value</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\r\n]\s+&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="Latin1Converter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.Latin1Converter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">tobytes</span><span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">],</span> <span class="n">encoding</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;latin1&quot;</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="parseNum"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.parseNum">[docs]</a><span class="k">def</span> <span class="nf">parseNum</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
	<span class="k">try</span><span class="p">:</span>
		<span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
	<span class="k">except</span><span class="p">:</span>
		<span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">value</span></div>


<div class="viewcode-block" id="parseBlendList"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.parseBlendList">[docs]</a><span class="k">def</span> <span class="nf">parseBlendList</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
	<span class="n">valueList</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
		<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
			<span class="k">continue</span>
		<span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="n">element</span>
		<span class="n">blendList</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
		<span class="n">blendList</span> <span class="o">=</span> <span class="p">[</span><span class="nb">eval</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">blendList</span><span class="p">]</span>
		<span class="n">valueList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">blendList</span><span class="p">)</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">valueList</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
		<span class="n">valueList</span> <span class="o">=</span> <span class="n">valueList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
	<span class="k">return</span> <span class="n">valueList</span></div>


<div class="viewcode-block" id="NumberConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.NumberConverter">[docs]</a><span class="k">class</span> <span class="nc">NumberConverter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>
<div class="viewcode-block" id="NumberConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.NumberConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">indent</span><span class="p">()</span>
			<span class="n">blendValue</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">value</span><span class="p">])</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="n">kBlendDictOpName</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">blendValue</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">dedent</span><span class="p">()</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="NumberConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.NumberConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="n">valueString</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">valueString</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">value</span> <span class="o">=</span> <span class="n">parseBlendList</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">value</span> <span class="o">=</span> <span class="n">parseNum</span><span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">value</span></div></div>


<div class="viewcode-block" id="ArrayConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ArrayConverter">[docs]</a><span class="k">class</span> <span class="nc">ArrayConverter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>
<div class="viewcode-block" id="ArrayConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ArrayConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">value</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">indent</span><span class="p">()</span>
			<span class="k">for</span> <span class="n">valueList</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
				<span class="n">blendValue</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">valueList</span><span class="p">])</span>
				<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="n">kBlendDictOpName</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">blendValue</span><span class="p">)</span>
				<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">dedent</span><span class="p">()</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">value</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">value</span><span class="p">])</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="ArrayConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ArrayConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="n">valueString</span> <span class="o">=</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">valueString</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">valueList</span> <span class="o">=</span> <span class="n">parseBlendList</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">values</span> <span class="o">=</span> <span class="n">valueString</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
			<span class="n">valueList</span> <span class="o">=</span> <span class="p">[</span><span class="n">parseNum</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">valueList</span></div></div>


<div class="viewcode-block" id="TableConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TableConverter">[docs]</a><span class="k">class</span> <span class="nc">TableConverter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>

<div class="viewcode-block" id="TableConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TableConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="n">value</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="TableConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TableConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="n">ob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getClass</span><span class="p">()()</span>
		<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
				<span class="k">continue</span>
			<span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="n">element</span>
			<span class="n">ob</span><span class="o">.</span><span class="n">fromXML</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">ob</span></div></div>


<div class="viewcode-block" id="PrivateDictConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.PrivateDictConverter">[docs]</a><span class="k">class</span> <span class="nc">PrivateDictConverter</span><span class="p">(</span><span class="n">TableConverter</span><span class="p">):</span>

<div class="viewcode-block" id="PrivateDictConverter.getClass"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.PrivateDictConverter.getClass">[docs]</a>	<span class="k">def</span> <span class="nf">getClass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">PrivateDict</span></div>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">size</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="n">value</span>
		<span class="n">file</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span>
		<span class="n">isCFF2</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">_isCFF2</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="n">vstore</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">vstore</span>
		<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
			<span class="n">vstore</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="n">priv</span> <span class="o">=</span> <span class="n">PrivateDict</span><span class="p">(</span>
			<span class="n">parent</span><span class="o">.</span><span class="n">strings</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">,</span> <span class="n">vstore</span><span class="o">=</span><span class="n">vstore</span><span class="p">)</span>
		<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
		<span class="n">data</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
		<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="n">size</span>
		<span class="n">priv</span><span class="o">.</span><span class="n">decompile</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">priv</span>

<div class="viewcode-block" id="PrivateDictConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.PrivateDictConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># dummy value</span></div></div>


<div class="viewcode-block" id="SubrsConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SubrsConverter">[docs]</a><span class="k">class</span> <span class="nc">SubrsConverter</span><span class="p">(</span><span class="n">TableConverter</span><span class="p">):</span>

<div class="viewcode-block" id="SubrsConverter.getClass"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SubrsConverter.getClass">[docs]</a>	<span class="k">def</span> <span class="nf">getClass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">SubrsIndex</span></div>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">file</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span>
		<span class="n">isCFF2</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">_isCFF2</span>
		<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="n">value</span><span class="p">)</span>  <span class="c1"># Offset(self)</span>
		<span class="k">return</span> <span class="n">SubrsIndex</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>

<div class="viewcode-block" id="SubrsConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.SubrsConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="mi">0</span>  <span class="c1"># dummy value</span></div></div>


<div class="viewcode-block" id="CharStringsConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStringsConverter">[docs]</a><span class="k">class</span> <span class="nc">CharStringsConverter</span><span class="p">(</span><span class="n">TableConverter</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">file</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span>
		<span class="n">isCFF2</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">_isCFF2</span>
		<span class="n">charset</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">charset</span>
		<span class="n">globalSubrs</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">GlobalSubrs</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;FDArray&quot;</span><span class="p">):</span>
			<span class="n">fdArray</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">FDArray</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;FDSelect&quot;</span><span class="p">):</span>
				<span class="n">fdSelect</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">FDSelect</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">fdSelect</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="n">private</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">fdSelect</span><span class="p">,</span> <span class="n">fdArray</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
			<span class="n">private</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">Private</span>
		<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># Offset(0)</span>
		<span class="n">charStrings</span> <span class="o">=</span> <span class="n">CharStrings</span><span class="p">(</span>
			<span class="n">file</span><span class="p">,</span> <span class="n">charset</span><span class="p">,</span> <span class="n">globalSubrs</span><span class="p">,</span> <span class="n">private</span><span class="p">,</span> <span class="n">fdSelect</span><span class="p">,</span> <span class="n">fdArray</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">charStrings</span>

<div class="viewcode-block" id="CharStringsConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStringsConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="mi">0</span>  <span class="c1"># dummy value</span></div>

<div class="viewcode-block" id="CharStringsConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharStringsConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;FDArray&quot;</span><span class="p">):</span>
			<span class="c1"># if it is a CID-keyed font, then the private Dict is extracted from the</span>
			<span class="c1"># parent.FDArray</span>
			<span class="n">fdArray</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">FDArray</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;FDSelect&quot;</span><span class="p">):</span>
				<span class="n">fdSelect</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">FDSelect</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">fdSelect</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="n">private</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="c1"># if it is a name-keyed font, then the private dict is in the top dict,</span>
			<span class="c1"># and</span>
			<span class="c1"># there is no fdArray.</span>
			<span class="n">private</span><span class="p">,</span> <span class="n">fdSelect</span><span class="p">,</span> <span class="n">fdArray</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">Private</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
		<span class="n">charStrings</span> <span class="o">=</span> <span class="n">CharStrings</span><span class="p">(</span>
			<span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">GlobalSubrs</span><span class="p">,</span> <span class="n">private</span><span class="p">,</span> <span class="n">fdSelect</span><span class="p">,</span> <span class="n">fdArray</span><span class="p">)</span>
		<span class="n">charStrings</span><span class="o">.</span><span class="n">fromXML</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">charStrings</span></div></div>


<div class="viewcode-block" id="CharsetConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharsetConverter">[docs]</a><span class="k">class</span> <span class="nc">CharsetConverter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">isCID</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;ROS&quot;</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
			<span class="n">numGlyphs</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">numGlyphs</span>
			<span class="n">file</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span>
			<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
			<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;loading charset at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
			<span class="nb">format</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
			<span class="k">if</span> <span class="nb">format</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
				<span class="n">charset</span> <span class="o">=</span> <span class="n">parseCharset0</span><span class="p">(</span><span class="n">numGlyphs</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">strings</span><span class="p">,</span> <span class="n">isCID</span><span class="p">)</span>
			<span class="k">elif</span> <span class="nb">format</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="nb">format</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
				<span class="n">charset</span> <span class="o">=</span> <span class="n">parseCharset</span><span class="p">(</span><span class="n">numGlyphs</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">strings</span><span class="p">,</span> <span class="n">isCID</span><span class="p">,</span> <span class="nb">format</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">raise</span> <span class="ne">NotImplementedError</span>
			<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">charset</span><span class="p">)</span> <span class="o">==</span> <span class="n">numGlyphs</span>
			<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;    charset end at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">tell</span><span class="p">())</span>
			<span class="c1"># make sure glyph names are unique</span>
			<span class="n">allNames</span> <span class="o">=</span> <span class="p">{}</span>
			<span class="n">newCharset</span> <span class="o">=</span> <span class="p">[]</span>
			<span class="k">for</span> <span class="n">glyphName</span> <span class="ow">in</span> <span class="n">charset</span><span class="p">:</span>
				<span class="k">if</span> <span class="n">glyphName</span> <span class="ow">in</span> <span class="n">allNames</span><span class="p">:</span>
					<span class="c1"># make up a new glyphName that&#39;s unique</span>
					<span class="n">n</span> <span class="o">=</span> <span class="n">allNames</span><span class="p">[</span><span class="n">glyphName</span><span class="p">]</span>
					<span class="k">while</span> <span class="p">(</span><span class="n">glyphName</span> <span class="o">+</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="ow">in</span> <span class="n">allNames</span><span class="p">:</span>
						<span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
					<span class="n">allNames</span><span class="p">[</span><span class="n">glyphName</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
					<span class="n">glyphName</span> <span class="o">=</span> <span class="n">glyphName</span> <span class="o">+</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
				<span class="n">allNames</span><span class="p">[</span><span class="n">glyphName</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
				<span class="n">newCharset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">glyphName</span><span class="p">)</span>
			<span class="n">charset</span> <span class="o">=</span> <span class="n">newCharset</span>
		<span class="k">else</span><span class="p">:</span>  <span class="c1"># offset == 0 -&gt; no charset data.</span>
			<span class="k">if</span> <span class="n">isCID</span> <span class="ow">or</span> <span class="s2">&quot;CharStrings&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">parent</span><span class="o">.</span><span class="n">rawDict</span><span class="p">:</span>
				<span class="c1"># We get here only when processing fontDicts from the FDArray of</span>
				<span class="c1"># CFF-CID fonts. Only the real topDict references the chrset.</span>
				<span class="k">assert</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span>
				<span class="n">charset</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
				<span class="n">charset</span> <span class="o">=</span> <span class="n">cffISOAdobeStrings</span>
			<span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
				<span class="n">charset</span> <span class="o">=</span> <span class="n">cffIExpertStrings</span>
			<span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
				<span class="n">charset</span> <span class="o">=</span> <span class="n">cffExpertSubsetStrings</span>
		<span class="k">if</span> <span class="n">charset</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">charset</span><span class="p">)</span> <span class="o">!=</span> <span class="n">parent</span><span class="o">.</span><span class="n">numGlyphs</span><span class="p">):</span>
			<span class="n">charset</span> <span class="o">=</span> <span class="n">charset</span><span class="p">[:</span><span class="n">parent</span><span class="o">.</span><span class="n">numGlyphs</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">charset</span>

<div class="viewcode-block" id="CharsetConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharsetConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="mi">0</span>  <span class="c1"># dummy value</span></div>

<div class="viewcode-block" id="CharsetConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharsetConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="c1"># XXX only write charset when not in OT/TTX context, where we</span>
		<span class="c1"># dump charset as a separate &quot;GlyphOrder&quot; table.</span>
		<span class="c1"># # xmlWriter.simpletag(&quot;charset&quot;)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">comment</span><span class="p">(</span><span class="s2">&quot;charset is dumped separately as the &#39;GlyphOrder&#39; element&quot;</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="CharsetConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharsetConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="k">pass</span></div></div>


<div class="viewcode-block" id="CharsetCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharsetCompiler">[docs]</a><span class="k">class</span> <span class="nc">CharsetCompiler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">charset</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="k">assert</span> <span class="n">charset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;.notdef&#39;</span>
		<span class="n">isCID</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;ROS&quot;</span><span class="p">)</span>
		<span class="n">data0</span> <span class="o">=</span> <span class="n">packCharset0</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">isCID</span><span class="p">,</span> <span class="n">strings</span><span class="p">)</span>
		<span class="n">data</span> <span class="o">=</span> <span class="n">packCharset</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">isCID</span><span class="p">,</span> <span class="n">strings</span><span class="p">)</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data0</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data0</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>

<div class="viewcode-block" id="CharsetCompiler.setPos"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharsetCompiler.setPos">[docs]</a>	<span class="k">def</span> <span class="nf">setPos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="s2">&quot;charset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pos</span></div>

<div class="viewcode-block" id="CharsetCompiler.getDataLength"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharsetCompiler.getDataLength">[docs]</a>	<span class="k">def</span> <span class="nf">getDataLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="CharsetCompiler.toFile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.CharsetCompiler.toFile">[docs]</a>	<span class="k">def</span> <span class="nf">toFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
		<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="getStdCharSet"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.getStdCharSet">[docs]</a><span class="k">def</span> <span class="nf">getStdCharSet</span><span class="p">(</span><span class="n">charset</span><span class="p">):</span>
	<span class="c1"># check to see if we can use a predefined charset value.</span>
	<span class="n">predefinedCharSetVal</span> <span class="o">=</span> <span class="kc">None</span>
	<span class="n">predefinedCharSets</span> <span class="o">=</span> <span class="p">[</span>
		<span class="p">(</span><span class="n">cffISOAdobeStringCount</span><span class="p">,</span> <span class="n">cffISOAdobeStrings</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
		<span class="p">(</span><span class="n">cffExpertStringCount</span><span class="p">,</span> <span class="n">cffIExpertStrings</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
		<span class="p">(</span><span class="n">cffExpertSubsetStringCount</span><span class="p">,</span> <span class="n">cffExpertSubsetStrings</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
	<span class="n">lcs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">charset</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">pcs</span><span class="p">,</span> <span class="n">csv</span> <span class="ow">in</span> <span class="n">predefinedCharSets</span><span class="p">:</span>
		<span class="k">if</span> <span class="n">predefinedCharSetVal</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">break</span>
		<span class="k">if</span> <span class="n">lcs</span> <span class="o">&gt;</span> <span class="n">cnt</span><span class="p">:</span>
			<span class="k">continue</span>
		<span class="n">predefinedCharSetVal</span> <span class="o">=</span> <span class="n">csv</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lcs</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">charset</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">pcs</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
				<span class="n">predefinedCharSetVal</span> <span class="o">=</span> <span class="kc">None</span>
				<span class="k">break</span>
	<span class="k">return</span> <span class="n">predefinedCharSetVal</span></div>


<div class="viewcode-block" id="getCIDfromName"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.getCIDfromName">[docs]</a><span class="k">def</span> <span class="nf">getCIDfromName</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
	<span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">name</span><span class="p">[</span><span class="mi">3</span><span class="p">:])</span></div>


<div class="viewcode-block" id="getSIDfromName"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.getSIDfromName">[docs]</a><span class="k">def</span> <span class="nf">getSIDfromName</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">strings</span><span class="o">.</span><span class="n">getSID</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>


<div class="viewcode-block" id="packCharset0"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packCharset0">[docs]</a><span class="k">def</span> <span class="nf">packCharset0</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">isCID</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
	<span class="n">fmt</span> <span class="o">=</span> <span class="mi">0</span>
	<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">packCard8</span><span class="p">(</span><span class="n">fmt</span><span class="p">)]</span>
	<span class="k">if</span> <span class="n">isCID</span><span class="p">:</span>
		<span class="n">getNameID</span> <span class="o">=</span> <span class="n">getCIDfromName</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">getNameID</span> <span class="o">=</span> <span class="n">getSIDfromName</span>

	<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">charset</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
		<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard16</span><span class="p">(</span><span class="n">getNameID</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">strings</span><span class="p">)))</span>
	<span class="k">return</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="packCharset"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packCharset">[docs]</a><span class="k">def</span> <span class="nf">packCharset</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">isCID</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
	<span class="n">fmt</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="n">ranges</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="n">first</span> <span class="o">=</span> <span class="kc">None</span>
	<span class="n">end</span> <span class="o">=</span> <span class="mi">0</span>
	<span class="k">if</span> <span class="n">isCID</span><span class="p">:</span>
		<span class="n">getNameID</span> <span class="o">=</span> <span class="n">getCIDfromName</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">getNameID</span> <span class="o">=</span> <span class="n">getSIDfromName</span>

	<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">charset</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
		<span class="n">SID</span> <span class="o">=</span> <span class="n">getNameID</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">strings</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">first</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">first</span> <span class="o">=</span> <span class="n">SID</span>
		<span class="k">elif</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">!=</span> <span class="n">SID</span><span class="p">:</span>
			<span class="n">nLeft</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="n">first</span>
			<span class="k">if</span> <span class="n">nLeft</span> <span class="o">&gt;</span> <span class="mi">255</span><span class="p">:</span>
				<span class="n">fmt</span> <span class="o">=</span> <span class="mi">2</span>
			<span class="n">ranges</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">first</span><span class="p">,</span> <span class="n">nLeft</span><span class="p">))</span>
			<span class="n">first</span> <span class="o">=</span> <span class="n">SID</span>
		<span class="n">end</span> <span class="o">=</span> <span class="n">SID</span>
	<span class="k">if</span> <span class="n">end</span><span class="p">:</span>
		<span class="n">nLeft</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="n">first</span>
		<span class="k">if</span> <span class="n">nLeft</span> <span class="o">&gt;</span> <span class="mi">255</span><span class="p">:</span>
			<span class="n">fmt</span> <span class="o">=</span> <span class="mi">2</span>
		<span class="n">ranges</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">first</span><span class="p">,</span> <span class="n">nLeft</span><span class="p">))</span>

	<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">packCard8</span><span class="p">(</span><span class="n">fmt</span><span class="p">)]</span>
	<span class="k">if</span> <span class="n">fmt</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
		<span class="n">nLeftFunc</span> <span class="o">=</span> <span class="n">packCard8</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">nLeftFunc</span> <span class="o">=</span> <span class="n">packCard16</span>
	<span class="k">for</span> <span class="n">first</span><span class="p">,</span> <span class="n">nLeft</span> <span class="ow">in</span> <span class="n">ranges</span><span class="p">:</span>
		<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard16</span><span class="p">(</span><span class="n">first</span><span class="p">)</span> <span class="o">+</span> <span class="n">nLeftFunc</span><span class="p">(</span><span class="n">nLeft</span><span class="p">))</span>
	<span class="k">return</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="parseCharset0"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.parseCharset0">[docs]</a><span class="k">def</span> <span class="nf">parseCharset0</span><span class="p">(</span><span class="n">numGlyphs</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">isCID</span><span class="p">):</span>
	<span class="n">charset</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.notdef&quot;</span><span class="p">]</span>
	<span class="k">if</span> <span class="n">isCID</span><span class="p">:</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numGlyphs</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
			<span class="n">CID</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
			<span class="n">charset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;cid&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">CID</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numGlyphs</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
			<span class="n">SID</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
			<span class="n">charset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">strings</span><span class="p">[</span><span class="n">SID</span><span class="p">])</span>
	<span class="k">return</span> <span class="n">charset</span></div>


<div class="viewcode-block" id="parseCharset"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.parseCharset">[docs]</a><span class="k">def</span> <span class="nf">parseCharset</span><span class="p">(</span><span class="n">numGlyphs</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">isCID</span><span class="p">,</span> <span class="n">fmt</span><span class="p">):</span>
	<span class="n">charset</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.notdef&#39;</span><span class="p">]</span>
	<span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="k">if</span> <span class="n">fmt</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
		<span class="n">nLeftFunc</span> <span class="o">=</span> <span class="n">readCard8</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">nLeftFunc</span> <span class="o">=</span> <span class="n">readCard16</span>
	<span class="k">while</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">numGlyphs</span><span class="p">:</span>
		<span class="n">first</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="n">nLeft</span> <span class="o">=</span> <span class="n">nLeftFunc</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">isCID</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">CID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">first</span> <span class="o">+</span> <span class="n">nLeft</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
				<span class="n">charset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;cid&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">CID</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">SID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">first</span> <span class="o">+</span> <span class="n">nLeft</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
				<span class="n">charset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">strings</span><span class="p">[</span><span class="n">SID</span><span class="p">])</span>
		<span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="n">nLeft</span> <span class="o">+</span> <span class="mi">1</span>
	<span class="k">return</span> <span class="n">charset</span></div>


<div class="viewcode-block" id="EncodingCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.EncodingCompiler">[docs]</a><span class="k">class</span> <span class="nc">EncodingCompiler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)</span>
		<span class="n">data0</span> <span class="o">=</span> <span class="n">packEncoding0</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">charset</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">strings</span><span class="p">)</span>
		<span class="n">data1</span> <span class="o">=</span> <span class="n">packEncoding1</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">charset</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">strings</span><span class="p">)</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data0</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data1</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data0</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data1</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>

<div class="viewcode-block" id="EncodingCompiler.setPos"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.EncodingCompiler.setPos">[docs]</a>	<span class="k">def</span> <span class="nf">setPos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="s2">&quot;Encoding&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pos</span></div>

<div class="viewcode-block" id="EncodingCompiler.getDataLength"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.EncodingCompiler.getDataLength">[docs]</a>	<span class="k">def</span> <span class="nf">getDataLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="EncodingCompiler.toFile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.EncodingCompiler.toFile">[docs]</a>	<span class="k">def</span> <span class="nf">toFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
		<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="EncodingConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.EncodingConverter">[docs]</a><span class="k">class</span> <span class="nc">EncodingConverter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
			<span class="k">return</span> <span class="s2">&quot;StandardEncoding&quot;</span>
		<span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
			<span class="k">return</span> <span class="s2">&quot;ExpertEncoding&quot;</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">assert</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">1</span>
			<span class="n">file</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span>
			<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
			<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;loading Encoding at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
			<span class="n">fmt</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
			<span class="n">haveSupplement</span> <span class="o">=</span> <span class="n">fmt</span> <span class="o">&amp;</span> <span class="mh">0x80</span>
			<span class="k">if</span> <span class="n">haveSupplement</span><span class="p">:</span>
				<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Encoding supplements are not yet supported&quot;</span><span class="p">)</span>
			<span class="n">fmt</span> <span class="o">=</span> <span class="n">fmt</span> <span class="o">&amp;</span> <span class="mh">0x7f</span>
			<span class="k">if</span> <span class="n">fmt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
				<span class="n">encoding</span> <span class="o">=</span> <span class="n">parseEncoding0</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">charset</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">haveSupplement</span><span class="p">,</span>
						<span class="n">parent</span><span class="o">.</span><span class="n">strings</span><span class="p">)</span>
			<span class="k">elif</span> <span class="n">fmt</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
				<span class="n">encoding</span> <span class="o">=</span> <span class="n">parseEncoding1</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">charset</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">haveSupplement</span><span class="p">,</span>
						<span class="n">parent</span><span class="o">.</span><span class="n">strings</span><span class="p">)</span>
			<span class="k">return</span> <span class="n">encoding</span>

<div class="viewcode-block" id="EncodingConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.EncodingConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;StandardEncoding&quot;</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">0</span>
		<span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;ExpertEncoding&quot;</span><span class="p">:</span>
			<span class="k">return</span> <span class="mi">1</span>
		<span class="k">return</span> <span class="mi">0</span>  <span class="c1"># dummy value</span></div>

<div class="viewcode-block" id="EncodingConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.EncodingConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;StandardEncoding&quot;</span><span class="p">,</span> <span class="s2">&quot;ExpertEncoding&quot;</span><span class="p">):</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
			<span class="k">return</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">begintag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)):</span>
			<span class="n">glyphName</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">code</span><span class="p">]</span>
			<span class="k">if</span> <span class="n">glyphName</span> <span class="o">!=</span> <span class="s2">&quot;.notdef&quot;</span><span class="p">:</span>
				<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="s2">&quot;map&quot;</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="nb">hex</span><span class="p">(</span><span class="n">code</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="n">glyphName</span><span class="p">)</span>
				<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">endtag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="EncodingConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.EncodingConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="k">if</span> <span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
			<span class="k">return</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
		<span class="n">encoding</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.notdef&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">256</span>
		<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
				<span class="k">continue</span>
			<span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="n">element</span>
			<span class="n">code</span> <span class="o">=</span> <span class="n">safeEval</span><span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;code&quot;</span><span class="p">])</span>
			<span class="n">glyphName</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
			<span class="n">encoding</span><span class="p">[</span><span class="n">code</span><span class="p">]</span> <span class="o">=</span> <span class="n">glyphName</span>
		<span class="k">return</span> <span class="n">encoding</span></div></div>


<div class="viewcode-block" id="parseEncoding0"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.parseEncoding0">[docs]</a><span class="k">def</span> <span class="nf">parseEncoding0</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">haveSupplement</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
	<span class="n">nCodes</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
	<span class="n">encoding</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.notdef&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">256</span>
	<span class="k">for</span> <span class="n">glyphID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">nCodes</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
		<span class="n">code</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
			<span class="n">encoding</span><span class="p">[</span><span class="n">code</span><span class="p">]</span> <span class="o">=</span> <span class="n">charset</span><span class="p">[</span><span class="n">glyphID</span><span class="p">]</span>
	<span class="k">return</span> <span class="n">encoding</span></div>


<div class="viewcode-block" id="parseEncoding1"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.parseEncoding1">[docs]</a><span class="k">def</span> <span class="nf">parseEncoding1</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">haveSupplement</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
	<span class="n">nRanges</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
	<span class="n">encoding</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.notdef&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">256</span>
	<span class="n">glyphID</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nRanges</span><span class="p">):</span>
		<span class="n">code</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="n">nLeft</span> <span class="o">=</span> <span class="n">readCard8</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">glyphID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">glyphID</span><span class="p">,</span> <span class="n">glyphID</span> <span class="o">+</span> <span class="n">nLeft</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
			<span class="n">encoding</span><span class="p">[</span><span class="n">code</span><span class="p">]</span> <span class="o">=</span> <span class="n">charset</span><span class="p">[</span><span class="n">glyphID</span><span class="p">]</span>
			<span class="n">code</span> <span class="o">=</span> <span class="n">code</span> <span class="o">+</span> <span class="mi">1</span>
		<span class="n">glyphID</span> <span class="o">=</span> <span class="n">glyphID</span> <span class="o">+</span> <span class="mi">1</span>
	<span class="k">return</span> <span class="n">encoding</span></div>


<div class="viewcode-block" id="packEncoding0"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packEncoding0">[docs]</a><span class="k">def</span> <span class="nf">packEncoding0</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
	<span class="n">fmt</span> <span class="o">=</span> <span class="mi">0</span>
	<span class="n">m</span> <span class="o">=</span> <span class="p">{}</span>
	<span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">encoding</span><span class="p">)):</span>
		<span class="n">name</span> <span class="o">=</span> <span class="n">encoding</span><span class="p">[</span><span class="n">code</span><span class="p">]</span>
		<span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;.notdef&quot;</span><span class="p">:</span>
			<span class="n">m</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">code</span>
	<span class="n">codes</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">charset</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
		<span class="n">code</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="n">codes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

	<span class="k">while</span> <span class="n">codes</span> <span class="ow">and</span> <span class="n">codes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
		<span class="n">codes</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

	<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">packCard8</span><span class="p">(</span><span class="n">fmt</span><span class="p">),</span> <span class="n">packCard8</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">codes</span><span class="p">))]</span>
	<span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">codes</span><span class="p">:</span>
		<span class="k">if</span> <span class="n">code</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">code</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard8</span><span class="p">(</span><span class="n">code</span><span class="p">))</span>
	<span class="k">return</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="packEncoding1"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packEncoding1">[docs]</a><span class="k">def</span> <span class="nf">packEncoding1</span><span class="p">(</span><span class="n">charset</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
	<span class="n">fmt</span> <span class="o">=</span> <span class="mi">1</span>
	<span class="n">m</span> <span class="o">=</span> <span class="p">{}</span>
	<span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">encoding</span><span class="p">)):</span>
		<span class="n">name</span> <span class="o">=</span> <span class="n">encoding</span><span class="p">[</span><span class="n">code</span><span class="p">]</span>
		<span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;.notdef&quot;</span><span class="p">:</span>
			<span class="n">m</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">code</span>
	<span class="n">ranges</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="n">first</span> <span class="o">=</span> <span class="kc">None</span>
	<span class="n">end</span> <span class="o">=</span> <span class="mi">0</span>
	<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">charset</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
		<span class="n">code</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">first</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">first</span> <span class="o">=</span> <span class="n">code</span>
		<span class="k">elif</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">!=</span> <span class="n">code</span><span class="p">:</span>
			<span class="n">nLeft</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="n">first</span>
			<span class="n">ranges</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">first</span><span class="p">,</span> <span class="n">nLeft</span><span class="p">))</span>
			<span class="n">first</span> <span class="o">=</span> <span class="n">code</span>
		<span class="n">end</span> <span class="o">=</span> <span class="n">code</span>
	<span class="n">nLeft</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="n">first</span>
	<span class="n">ranges</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">first</span><span class="p">,</span> <span class="n">nLeft</span><span class="p">))</span>

	<span class="c1"># remove unencoded glyphs at the end.</span>
	<span class="k">while</span> <span class="n">ranges</span> <span class="ow">and</span> <span class="n">ranges</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
		<span class="n">ranges</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

	<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">packCard8</span><span class="p">(</span><span class="n">fmt</span><span class="p">),</span> <span class="n">packCard8</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ranges</span><span class="p">))]</span>
	<span class="k">for</span> <span class="n">first</span><span class="p">,</span> <span class="n">nLeft</span> <span class="ow">in</span> <span class="n">ranges</span><span class="p">:</span>
		<span class="k">if</span> <span class="n">first</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>  <span class="c1"># unencoded</span>
			<span class="n">first</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard8</span><span class="p">(</span><span class="n">first</span><span class="p">)</span> <span class="o">+</span> <span class="n">packCard8</span><span class="p">(</span><span class="n">nLeft</span><span class="p">))</span>
	<span class="k">return</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="FDArrayConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayConverter">[docs]</a><span class="k">class</span> <span class="nc">FDArrayConverter</span><span class="p">(</span><span class="n">TableConverter</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="n">vstore</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">VarStore</span>
		<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
			<span class="n">vstore</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="n">file</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span>
		<span class="n">isCFF2</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">_isCFF2</span>
		<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="n">fdArray</span> <span class="o">=</span> <span class="n">FDArrayIndex</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="n">fdArray</span><span class="o">.</span><span class="n">vstore</span> <span class="o">=</span> <span class="n">vstore</span>
		<span class="n">fdArray</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">strings</span>
		<span class="n">fdArray</span><span class="o">.</span><span class="n">GlobalSubrs</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">GlobalSubrs</span>
		<span class="k">return</span> <span class="n">fdArray</span>

<div class="viewcode-block" id="FDArrayConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="mi">0</span>  <span class="c1"># dummy value</span></div>

<div class="viewcode-block" id="FDArrayConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDArrayConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="n">fdArray</span> <span class="o">=</span> <span class="n">FDArrayIndex</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
				<span class="k">continue</span>
			<span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span> <span class="o">=</span> <span class="n">element</span>
			<span class="n">fdArray</span><span class="o">.</span><span class="n">fromXML</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">fdArray</span></div></div>


<div class="viewcode-block" id="FDSelectConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelectConverter">[docs]</a><span class="k">class</span> <span class="nc">FDSelectConverter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">file</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span>
		<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="n">fdSelect</span> <span class="o">=</span> <span class="n">FDSelect</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">numGlyphs</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">fdSelect</span>

<div class="viewcode-block" id="FDSelectConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelectConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="mi">0</span>  <span class="c1"># dummy value</span></div>

	<span class="c1"># The FDSelect glyph data is written out to XML in the charstring keys,</span>
	<span class="c1"># so we write out only the format selector</span>
<div class="viewcode-block" id="FDSelectConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelectConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;format&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">format</span><span class="p">)])</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="FDSelectConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelectConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="n">fmt</span> <span class="o">=</span> <span class="n">safeEval</span><span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;format&quot;</span><span class="p">])</span>
		<span class="n">file</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="n">numGlyphs</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="n">fdSelect</span> <span class="o">=</span> <span class="n">FDSelect</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">numGlyphs</span><span class="p">,</span> <span class="n">fmt</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">fdSelect</span></div></div>


<div class="viewcode-block" id="VarStoreConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreConverter">[docs]</a><span class="k">class</span> <span class="nc">VarStoreConverter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">file</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span>
		<span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="n">varStore</span> <span class="o">=</span> <span class="n">VarStoreData</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="n">varStore</span><span class="o">.</span><span class="n">decompile</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">varStore</span>

<div class="viewcode-block" id="VarStoreConverter.write"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreConverter.write">[docs]</a>	<span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">return</span> <span class="mi">0</span>  <span class="c1"># dummy value</span></div>

<div class="viewcode-block" id="VarStoreConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">value</span><span class="o">.</span><span class="n">writeXML</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarStoreConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="n">varStore</span> <span class="o">=</span> <span class="n">VarStoreData</span><span class="p">()</span>
		<span class="n">varStore</span><span class="o">.</span><span class="n">xmlRead</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">varStore</span></div></div>


<div class="viewcode-block" id="packFDSelect0"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packFDSelect0">[docs]</a><span class="k">def</span> <span class="nf">packFDSelect0</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">):</span>
	<span class="n">fmt</span> <span class="o">=</span> <span class="mi">0</span>
	<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">packCard8</span><span class="p">(</span><span class="n">fmt</span><span class="p">)]</span>
	<span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">fdSelectArray</span><span class="p">:</span>
		<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard8</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
	<span class="k">return</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="packFDSelect3"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packFDSelect3">[docs]</a><span class="k">def</span> <span class="nf">packFDSelect3</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">):</span>
	<span class="n">fmt</span> <span class="o">=</span> <span class="mi">3</span>
	<span class="n">fdRanges</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="n">lenArray</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">)</span>
	<span class="n">lastFDIndex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lenArray</span><span class="p">):</span>
		<span class="n">fdIndex</span> <span class="o">=</span> <span class="n">fdSelectArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
		<span class="k">if</span> <span class="n">lastFDIndex</span> <span class="o">!=</span> <span class="n">fdIndex</span><span class="p">:</span>
			<span class="n">fdRanges</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">fdIndex</span><span class="p">])</span>
			<span class="n">lastFDIndex</span> <span class="o">=</span> <span class="n">fdIndex</span>
	<span class="n">sentinelGID</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>

	<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">packCard8</span><span class="p">(</span><span class="n">fmt</span><span class="p">)]</span>
	<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard16</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fdRanges</span><span class="p">)))</span>
	<span class="k">for</span> <span class="n">fdRange</span> <span class="ow">in</span> <span class="n">fdRanges</span><span class="p">:</span>
		<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard16</span><span class="p">(</span><span class="n">fdRange</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
		<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard8</span><span class="p">(</span><span class="n">fdRange</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
	<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard16</span><span class="p">(</span><span class="n">sentinelGID</span><span class="p">))</span>
	<span class="k">return</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="packFDSelect4"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.packFDSelect4">[docs]</a><span class="k">def</span> <span class="nf">packFDSelect4</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">):</span>
	<span class="n">fmt</span> <span class="o">=</span> <span class="mi">4</span>
	<span class="n">fdRanges</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="n">lenArray</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">)</span>
	<span class="n">lastFDIndex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lenArray</span><span class="p">):</span>
		<span class="n">fdIndex</span> <span class="o">=</span> <span class="n">fdSelectArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
		<span class="k">if</span> <span class="n">lastFDIndex</span> <span class="o">!=</span> <span class="n">fdIndex</span><span class="p">:</span>
			<span class="n">fdRanges</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">fdIndex</span><span class="p">])</span>
			<span class="n">lastFDIndex</span> <span class="o">=</span> <span class="n">fdIndex</span>
	<span class="n">sentinelGID</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>

	<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">packCard8</span><span class="p">(</span><span class="n">fmt</span><span class="p">)]</span>
	<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard32</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fdRanges</span><span class="p">)))</span>
	<span class="k">for</span> <span class="n">fdRange</span> <span class="ow">in</span> <span class="n">fdRanges</span><span class="p">:</span>
		<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard32</span><span class="p">(</span><span class="n">fdRange</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
		<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard16</span><span class="p">(</span><span class="n">fdRange</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
	<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">packCard32</span><span class="p">(</span><span class="n">sentinelGID</span><span class="p">))</span>
	<span class="k">return</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="FDSelectCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelectCompiler">[docs]</a><span class="k">class</span> <span class="nc">FDSelectCompiler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fdSelect</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="n">fmt</span> <span class="o">=</span> <span class="n">fdSelect</span><span class="o">.</span><span class="n">format</span>
		<span class="n">fdSelectArray</span> <span class="o">=</span> <span class="n">fdSelect</span><span class="o">.</span><span class="n">gidArray</span>
		<span class="k">if</span> <span class="n">fmt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">packFDSelect0</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">)</span>
		<span class="k">elif</span> <span class="n">fmt</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">packFDSelect3</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">)</span>
		<span class="k">elif</span> <span class="n">fmt</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">packFDSelect4</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="c1"># choose smaller of the two formats</span>
			<span class="n">data0</span> <span class="o">=</span> <span class="n">packFDSelect0</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">)</span>
			<span class="n">data3</span> <span class="o">=</span> <span class="n">packFDSelect3</span><span class="p">(</span><span class="n">fdSelectArray</span><span class="p">)</span>
			<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data0</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data3</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data0</span>
				<span class="n">fdSelect</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="mi">0</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data3</span>
				<span class="n">fdSelect</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="mi">3</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>

<div class="viewcode-block" id="FDSelectCompiler.setPos"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelectCompiler.setPos">[docs]</a>	<span class="k">def</span> <span class="nf">setPos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="s2">&quot;FDSelect&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pos</span></div>

<div class="viewcode-block" id="FDSelectCompiler.getDataLength"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelectCompiler.getDataLength">[docs]</a>	<span class="k">def</span> <span class="nf">getDataLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="FDSelectCompiler.toFile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FDSelectCompiler.toFile">[docs]</a>	<span class="k">def</span> <span class="nf">toFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
		<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="VarStoreCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreCompiler">[docs]</a><span class="k">class</span> <span class="nc">VarStoreCompiler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varStoreData</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">varStoreData</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
			<span class="n">varStoreData</span><span class="o">.</span><span class="n">compile</span><span class="p">()</span>
		<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
			<span class="n">packCard16</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">varStoreData</span><span class="o">.</span><span class="n">data</span><span class="p">)),</span>
			<span class="n">varStoreData</span><span class="o">.</span><span class="n">data</span>
		<span class="p">]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<div class="viewcode-block" id="VarStoreCompiler.setPos"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreCompiler.setPos">[docs]</a>	<span class="k">def</span> <span class="nf">setPos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="s2">&quot;VarStore&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pos</span></div>

<div class="viewcode-block" id="VarStoreCompiler.getDataLength"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreCompiler.getDataLength">[docs]</a>	<span class="k">def</span> <span class="nf">getDataLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="VarStoreCompiler.toFile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.VarStoreCompiler.toFile">[docs]</a>	<span class="k">def</span> <span class="nf">toFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
		<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="ROSConverter"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ROSConverter">[docs]</a><span class="k">class</span> <span class="nc">ROSConverter</span><span class="p">(</span><span class="n">SimpleConverter</span><span class="p">):</span>

<div class="viewcode-block" id="ROSConverter.xmlWrite"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ROSConverter.xmlWrite">[docs]</a>	<span class="k">def</span> <span class="nf">xmlWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">registry</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">supplement</span> <span class="o">=</span> <span class="n">value</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">simpletag</span><span class="p">(</span>
			<span class="n">name</span><span class="p">,</span>
			<span class="p">[</span>
				<span class="p">(</span><span class="s1">&#39;Registry&#39;</span><span class="p">,</span> <span class="n">tostr</span><span class="p">(</span><span class="n">registry</span><span class="p">)),</span>
				<span class="p">(</span><span class="s1">&#39;Order&#39;</span><span class="p">,</span> <span class="n">tostr</span><span class="p">(</span><span class="n">order</span><span class="p">)),</span>
				<span class="p">(</span><span class="s1">&#39;Supplement&#39;</span><span class="p">,</span> <span class="n">supplement</span><span class="p">)</span>
			<span class="p">])</span>
		<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="ROSConverter.xmlRead"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.ROSConverter.xmlRead">[docs]</a>	<span class="k">def</span> <span class="nf">xmlRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
		<span class="k">return</span> <span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;Registry&#39;</span><span class="p">],</span> <span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;Order&#39;</span><span class="p">],</span> <span class="n">safeEval</span><span class="p">(</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;Supplement&#39;</span><span class="p">]))</span></div></div>

<span class="n">topDictOperators</span> <span class="o">=</span> <span class="p">[</span>
<span class="c1">#	opcode		name			argument type	default	converter</span>
	<span class="p">(</span><span class="mi">25</span><span class="p">,</span>		<span class="s1">&#39;maxstack&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>	<span class="s1">&#39;ROS&#39;</span><span class="p">,</span>	<span class="p">(</span><span class="s1">&#39;SID&#39;</span><span class="p">,</span> <span class="s1">&#39;SID&#39;</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span><span class="p">),</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">ROSConverter</span><span class="p">()),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>	<span class="s1">&#39;SyntheticBase&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">0</span><span class="p">,</span>		<span class="s1">&#39;version&#39;</span><span class="p">,</span>		<span class="s1">&#39;SID&#39;</span><span class="p">,</span>		<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">1</span><span class="p">,</span>		<span class="s1">&#39;Notice&#39;</span><span class="p">,</span>		<span class="s1">&#39;SID&#39;</span><span class="p">,</span>		<span class="kc">None</span><span class="p">,</span>	<span class="n">Latin1Converter</span><span class="p">()),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>	<span class="s1">&#39;Copyright&#39;</span><span class="p">,</span>		<span class="s1">&#39;SID&#39;</span><span class="p">,</span>		<span class="kc">None</span><span class="p">,</span>	<span class="n">Latin1Converter</span><span class="p">()),</span>
	<span class="p">(</span><span class="mi">2</span><span class="p">,</span>		<span class="s1">&#39;FullName&#39;</span><span class="p">,</span>		<span class="s1">&#39;SID&#39;</span><span class="p">,</span>		<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">38</span><span class="p">),</span>	<span class="s1">&#39;FontName&#39;</span><span class="p">,</span>		<span class="s1">&#39;SID&#39;</span><span class="p">,</span>		<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">3</span><span class="p">,</span>		<span class="s1">&#39;FamilyName&#39;</span><span class="p">,</span>		<span class="s1">&#39;SID&#39;</span><span class="p">,</span>		<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">4</span><span class="p">,</span>		<span class="s1">&#39;Weight&#39;</span><span class="p">,</span>		<span class="s1">&#39;SID&#39;</span><span class="p">,</span>		<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>	<span class="s1">&#39;isFixedPitch&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>	<span class="s1">&#39;ItalicAngle&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>	<span class="s1">&#39;UnderlinePosition&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="o">-</span><span class="mi">100</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>	<span class="s1">&#39;UnderlineThickness&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">50</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>	<span class="s1">&#39;PaintType&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>	<span class="s1">&#39;CharstringType&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>	<span class="s1">&#39;FontMatrix&#39;</span><span class="p">,</span>		<span class="s1">&#39;array&#39;</span><span class="p">,</span>	<span class="p">[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">13</span><span class="p">,</span>		<span class="s1">&#39;UniqueID&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">5</span><span class="p">,</span>		<span class="s1">&#39;FontBBox&#39;</span><span class="p">,</span>		<span class="s1">&#39;array&#39;</span><span class="p">,</span>	<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>	<span class="s1">&#39;StrokeWidth&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">14</span><span class="p">,</span>		<span class="s1">&#39;XUID&#39;</span><span class="p">,</span>			<span class="s1">&#39;array&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span>	<span class="s1">&#39;PostScript&#39;</span><span class="p">,</span>		<span class="s1">&#39;SID&#39;</span><span class="p">,</span>		<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span>	<span class="s1">&#39;BaseFontName&#39;</span><span class="p">,</span>		<span class="s1">&#39;SID&#39;</span><span class="p">,</span>		<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">23</span><span class="p">),</span>	<span class="s1">&#39;BaseFontBlend&#39;</span><span class="p">,</span>	<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>	<span class="s1">&#39;CIDFontVersion&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span>	<span class="s1">&#39;CIDFontRevision&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">33</span><span class="p">),</span>	<span class="s1">&#39;CIDFontType&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span>	<span class="s1">&#39;CIDCount&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">8720</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">15</span><span class="p">,</span>		<span class="s1">&#39;charset&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">CharsetConverter</span><span class="p">()),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">35</span><span class="p">),</span>	<span class="s1">&#39;UIDBase&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">16</span><span class="p">,</span>		<span class="s1">&#39;Encoding&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="n">EncodingConverter</span><span class="p">()),</span>
	<span class="p">(</span><span class="mi">18</span><span class="p">,</span>		<span class="s1">&#39;Private&#39;</span><span class="p">,</span>	<span class="p">(</span><span class="s1">&#39;number&#39;</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span><span class="p">),</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">PrivateDictConverter</span><span class="p">()),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">37</span><span class="p">),</span>	<span class="s1">&#39;FDSelect&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">FDSelectConverter</span><span class="p">()),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">36</span><span class="p">),</span>	<span class="s1">&#39;FDArray&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">FDArrayConverter</span><span class="p">()),</span>
	<span class="p">(</span><span class="mi">17</span><span class="p">,</span>		<span class="s1">&#39;CharStrings&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">CharStringsConverter</span><span class="p">()),</span>
	<span class="p">(</span><span class="mi">24</span><span class="p">,</span>		<span class="s1">&#39;VarStore&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">VarStoreConverter</span><span class="p">()),</span>
<span class="p">]</span>

<span class="n">topDictOperators2</span> <span class="o">=</span> <span class="p">[</span>
<span class="c1">#	opcode		name			argument type	default	converter</span>
	<span class="p">(</span><span class="mi">25</span><span class="p">,</span>		<span class="s1">&#39;maxstack&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>	<span class="s1">&#39;FontMatrix&#39;</span><span class="p">,</span>		<span class="s1">&#39;array&#39;</span><span class="p">,</span>	<span class="p">[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">37</span><span class="p">),</span>	<span class="s1">&#39;FDSelect&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">FDSelectConverter</span><span class="p">()),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">36</span><span class="p">),</span>	<span class="s1">&#39;FDArray&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">FDArrayConverter</span><span class="p">()),</span>
	<span class="p">(</span><span class="mi">17</span><span class="p">,</span>		<span class="s1">&#39;CharStrings&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">CharStringsConverter</span><span class="p">()),</span>
	<span class="p">(</span><span class="mi">24</span><span class="p">,</span>		<span class="s1">&#39;VarStore&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">VarStoreConverter</span><span class="p">()),</span>
<span class="p">]</span>

<span class="c1"># Note! FDSelect and FDArray must both preceed CharStrings in the output XML build order,</span>
<span class="c1"># in order for the font to compile back from xml.</span>

<span class="n">kBlendDictOpName</span> <span class="o">=</span> <span class="s2">&quot;blend&quot;</span>
<span class="n">blendOp</span> <span class="o">=</span> <span class="mi">23</span>

<span class="n">privateDictOperators</span> <span class="o">=</span> <span class="p">[</span>
<span class="c1">#	opcode		name			argument type	default	converter</span>
	<span class="p">(</span><span class="mi">22</span><span class="p">,</span>	<span class="s2">&quot;vsindex&quot;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="n">blendOp</span><span class="p">,</span>	<span class="n">kBlendDictOpName</span><span class="p">,</span>		<span class="s1">&#39;blendList&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span> <span class="c1"># This is for reading to/from XML: it not written to CFF.</span>
	<span class="p">(</span><span class="mi">6</span><span class="p">,</span>		<span class="s1">&#39;BlueValues&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">7</span><span class="p">,</span>		<span class="s1">&#39;OtherBlues&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">8</span><span class="p">,</span>		<span class="s1">&#39;FamilyBlues&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">9</span><span class="p">,</span>		<span class="s1">&#39;FamilyOtherBlues&#39;</span><span class="p">,</span>	<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>	<span class="s1">&#39;BlueScale&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mf">0.039625</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>	<span class="s1">&#39;BlueShift&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">7</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>	<span class="s1">&#39;BlueFuzz&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">10</span><span class="p">,</span>		<span class="s1">&#39;StdHW&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">11</span><span class="p">,</span>		<span class="s1">&#39;StdVW&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>	<span class="s1">&#39;StemSnapH&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>	<span class="s1">&#39;StemSnapV&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>	<span class="s1">&#39;ForceBold&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>	<span class="s1">&#39;ForceBoldThreshold&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span> <span class="c1"># deprecated</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>	<span class="s1">&#39;lenIV&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span> <span class="c1"># deprecated</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>	<span class="s1">&#39;LanguageGroup&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>	<span class="s1">&#39;ExpansionFactor&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mf">0.06</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>	<span class="s1">&#39;initialRandomSeed&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">20</span><span class="p">,</span>		<span class="s1">&#39;defaultWidthX&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">21</span><span class="p">,</span>		<span class="s1">&#39;nominalWidthX&#39;</span><span class="p">,</span>	<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">19</span><span class="p">,</span>		<span class="s1">&#39;Subrs&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">SubrsConverter</span><span class="p">()),</span>
<span class="p">]</span>

<span class="n">privateDictOperators2</span> <span class="o">=</span> <span class="p">[</span>
<span class="c1">#	opcode		name			argument type	default	converter</span>
	<span class="p">(</span><span class="mi">22</span><span class="p">,</span>	<span class="s2">&quot;vsindex&quot;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="n">blendOp</span><span class="p">,</span>	<span class="n">kBlendDictOpName</span><span class="p">,</span>		<span class="s1">&#39;blendList&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span> <span class="c1"># This is for reading to/from XML: it not written to CFF.</span>
	<span class="p">(</span><span class="mi">6</span><span class="p">,</span>		<span class="s1">&#39;BlueValues&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">7</span><span class="p">,</span>		<span class="s1">&#39;OtherBlues&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">8</span><span class="p">,</span>		<span class="s1">&#39;FamilyBlues&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">9</span><span class="p">,</span>		<span class="s1">&#39;FamilyOtherBlues&#39;</span><span class="p">,</span>	<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>	<span class="s1">&#39;BlueScale&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mf">0.039625</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>	<span class="s1">&#39;BlueShift&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">7</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>	<span class="s1">&#39;BlueFuzz&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">10</span><span class="p">,</span>		<span class="s1">&#39;StdHW&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">11</span><span class="p">,</span>		<span class="s1">&#39;StdVW&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>	<span class="s1">&#39;StemSnapH&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>	<span class="s1">&#39;StemSnapV&#39;</span><span class="p">,</span>		<span class="s1">&#39;delta&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="kc">None</span><span class="p">),</span>
	<span class="p">(</span><span class="mi">19</span><span class="p">,</span>		<span class="s1">&#39;Subrs&#39;</span><span class="p">,</span>		<span class="s1">&#39;number&#39;</span><span class="p">,</span>	<span class="kc">None</span><span class="p">,</span>	<span class="n">SubrsConverter</span><span class="p">()),</span>
<span class="p">]</span>


<div class="viewcode-block" id="addConverters"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.addConverters">[docs]</a><span class="k">def</span> <span class="nf">addConverters</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="p">)):</span>
		<span class="n">op</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">conv</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
		<span class="k">if</span> <span class="n">conv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">continue</span>
		<span class="k">if</span> <span class="n">arg</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;delta&quot;</span><span class="p">,</span> <span class="s2">&quot;array&quot;</span><span class="p">):</span>
			<span class="n">conv</span> <span class="o">=</span> <span class="n">ArrayConverter</span><span class="p">()</span>
		<span class="k">elif</span> <span class="n">arg</span> <span class="o">==</span> <span class="s2">&quot;number&quot;</span><span class="p">:</span>
			<span class="n">conv</span> <span class="o">=</span> <span class="n">NumberConverter</span><span class="p">()</span>
		<span class="k">elif</span> <span class="n">arg</span> <span class="o">==</span> <span class="s2">&quot;SID&quot;</span><span class="p">:</span>
			<span class="n">conv</span> <span class="o">=</span> <span class="n">ASCIIConverter</span><span class="p">()</span>
		<span class="k">elif</span> <span class="n">arg</span> <span class="o">==</span> <span class="s1">&#39;blendList&#39;</span><span class="p">:</span>
			<span class="n">conv</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">assert</span> <span class="kc">False</span>
		<span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">op</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">conv</span></div>


<span class="n">addConverters</span><span class="p">(</span><span class="n">privateDictOperators</span><span class="p">)</span>
<span class="n">addConverters</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span>


<div class="viewcode-block" id="TopDictDecompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictDecompiler">[docs]</a><span class="k">class</span> <span class="nc">TopDictDecompiler</span><span class="p">(</span><span class="n">psCharStrings</span><span class="o">.</span><span class="n">DictDecompiler</span><span class="p">):</span>
	<span class="n">operators</span> <span class="o">=</span> <span class="n">buildOperatorDict</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span></div>


<div class="viewcode-block" id="PrivateDictDecompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.PrivateDictDecompiler">[docs]</a><span class="k">class</span> <span class="nc">PrivateDictDecompiler</span><span class="p">(</span><span class="n">psCharStrings</span><span class="o">.</span><span class="n">DictDecompiler</span><span class="p">):</span>
	<span class="n">operators</span> <span class="o">=</span> <span class="n">buildOperatorDict</span><span class="p">(</span><span class="n">privateDictOperators</span><span class="p">)</span></div>


<div class="viewcode-block" id="DictCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler">[docs]</a><span class="k">class</span> <span class="nc">DictCompiler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
	<span class="n">maxBlendStack</span> <span class="o">=</span> <span class="mi">0</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dictObj</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">strings</span><span class="p">:</span>
			<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="n">IndexedStrings</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">isCFF2</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;isCFF2&quot;</span><span class="p">):</span>
			<span class="n">isCFF2</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">isCFF2</span>
			<span class="k">assert</span> <span class="n">isCFF2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span> <span class="o">=</span> <span class="n">isCFF2</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span> <span class="o">=</span> <span class="n">dictObj</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="n">strings</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
		<span class="n">rawDict</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">dictObj</span><span class="o">.</span><span class="n">order</span><span class="p">:</span>
			<span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dictObj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
				<span class="k">continue</span>
			<span class="n">conv</span> <span class="o">=</span> <span class="n">dictObj</span><span class="o">.</span><span class="n">converters</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
			<span class="n">value</span> <span class="o">=</span> <span class="n">conv</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">dictObj</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">dictObj</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
				<span class="k">continue</span>
			<span class="n">rawDict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">rawDict</span> <span class="o">=</span> <span class="n">rawDict</span>

<div class="viewcode-block" id="DictCompiler.setPos"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler.setPos">[docs]</a>	<span class="k">def</span> <span class="nf">setPos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">):</span>
		<span class="k">pass</span></div>

<div class="viewcode-block" id="DictCompiler.getDataLength"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler.getDataLength">[docs]</a>	<span class="k">def</span> <span class="nf">getDataLength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;getDataLength&quot;</span><span class="p">))</span></div>

<div class="viewcode-block" id="DictCompiler.compile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler.compile">[docs]</a>	<span class="k">def</span> <span class="nf">compile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reason</span><span class="p">):</span>
		<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;-- compiling </span><span class="si">%s</span><span class="s2"> for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">reason</span><span class="p">)</span>
		<span class="n">rawDict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rawDict</span>
		<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">order</span><span class="p">:</span>
			<span class="n">value</span> <span class="o">=</span> <span class="n">rawDict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
				<span class="k">continue</span>
			<span class="n">op</span><span class="p">,</span> <span class="n">argType</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opcodes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
			<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argType</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
				<span class="n">l</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">argType</span><span class="p">)</span>
				<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="n">l</span><span class="p">,</span> <span class="s2">&quot;value doesn&#39;t match arg type&quot;</span>
				<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
					<span class="n">arg</span> <span class="o">=</span> <span class="n">argType</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
					<span class="n">v</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
					<span class="n">arghandler</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;arg_&quot;</span> <span class="o">+</span> <span class="n">arg</span><span class="p">)</span>
					<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arghandler</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">arghandler</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;arg_&quot;</span> <span class="o">+</span> <span class="n">argType</span><span class="p">)</span>
				<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arghandler</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
			<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>
		<span class="n">data</span> <span class="o">=</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">data</span></div>

<div class="viewcode-block" id="DictCompiler.toFile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler.toFile">[docs]</a>	<span class="k">def</span> <span class="nf">toFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
		<span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;toFile&quot;</span><span class="p">)</span>
		<span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="DictCompiler.arg_number"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler.arg_number">[docs]</a>	<span class="k">def</span> <span class="nf">arg_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
		<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
			<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">encodeNumber</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">num</span><span class="p">]</span>
			<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">encodeNumber</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
			<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bytechr</span><span class="p">(</span><span class="n">blendOp</span><span class="p">))</span>
			<span class="n">datum</span> <span class="o">=</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">datum</span> <span class="o">=</span> <span class="n">encodeNumber</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">datum</span></div>

<div class="viewcode-block" id="DictCompiler.arg_SID"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler.arg_SID">[docs]</a>	<span class="k">def</span> <span class="nf">arg_SID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">psCharStrings</span><span class="o">.</span><span class="n">encodeIntCFF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="o">.</span><span class="n">getSID</span><span class="p">(</span><span class="n">s</span><span class="p">))</span></div>

<div class="viewcode-block" id="DictCompiler.arg_array"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler.arg_array">[docs]</a>	<span class="k">def</span> <span class="nf">arg_array</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
			<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arg_number</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="DictCompiler.arg_delta"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler.arg_delta">[docs]</a>	<span class="k">def</span> <span class="nf">arg_delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
			<span class="k">return</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
		<span class="n">val0</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
		<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val0</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
			<span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_delta_blend</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
			<span class="n">last</span> <span class="o">=</span> <span class="mi">0</span>
			<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
				<span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span> <span class="o">-</span> <span class="n">last</span><span class="p">)</span>
				<span class="n">last</span> <span class="o">=</span> <span class="n">v</span>
			<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
			<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">out</span><span class="p">:</span>
				<span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">encodeNumber</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">bytesjoin</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="DictCompiler.arg_delta_blend"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.DictCompiler.arg_delta_blend">[docs]</a>	<span class="k">def</span> <span class="nf">arg_delta_blend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="sd">&quot;&quot;&quot; A delta list with blend lists has to be *all* blend lists.</span>
<span class="sd">		The value is a list is arranged as follows.</span>
<span class="sd">		[</span>
<span class="sd">		   [V0, d0..dn] </span>
<span class="sd">		   [V1, d0..dn]</span>
<span class="sd">		   ...</span>
<span class="sd">		   [Vm, d0..dn]</span>
<span class="sd">		]</span>
<span class="sd">		V is the absolute coordinate value from the default font, and d0-dn are</span>
<span class="sd">		the delta values from the n regions. Each V is an absolute coordinate</span>
<span class="sd">		from the default font.</span>
<span class="sd">		We want to return a list:</span>
<span class="sd">		[</span>
<span class="sd">		   [v0, v1..vm] </span>
<span class="sd">		   [d0..dn]</span>
<span class="sd">		   ...</span>
<span class="sd">		   [d0..dn]</span>
<span class="sd">		   numBlends</span>
<span class="sd">		   blendOp</span>
<span class="sd">		]</span>
<span class="sd">		where each v is relative to the previous default font value.</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">numMasters</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
		<span class="n">numBlends</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="n">numStack</span> <span class="o">=</span> <span class="p">(</span><span class="n">numBlends</span> <span class="o">*</span> <span class="n">numMasters</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
		<span class="k">if</span> <span class="n">numStack</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxBlendStack</span><span class="p">:</span>
			<span class="c1"># Figure out the max number of value we can blend</span>
			<span class="c1"># and divide this list up into chunks of that size.</span>

			<span class="n">numBlendValues</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">maxBlendStack</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n">numMasters</span><span class="p">)</span>
			<span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
			<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
				<span class="n">numVal</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="n">numBlendValues</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">numVal</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
					<span class="k">break</span>
				<span class="n">valList</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">numVal</span><span class="p">]</span>
				<span class="n">out1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_delta_blend</span><span class="p">(</span><span class="n">valList</span><span class="p">)</span>
				<span class="n">out</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">out1</span><span class="p">)</span>
				<span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">numVal</span><span class="p">:]</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">firstList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">numBlends</span>
			<span class="n">deltaList</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">numBlends</span>
			<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
			<span class="n">prevVal</span> <span class="o">=</span> <span class="mi">0</span>
			<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">numBlends</span><span class="p">:</span>
				<span class="c1"># For PrivateDict BlueValues, the default font</span>
				<span class="c1"># values are absolute, not relative.</span>
				<span class="c1"># Must convert these back to relative coordinates</span>
				<span class="c1"># befor writing to CFF2.</span>
				<span class="n">defaultValue</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
				<span class="n">firstList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">defaultValue</span> <span class="o">-</span> <span class="n">prevVal</span>
				<span class="n">prevVal</span> <span class="o">=</span> <span class="n">defaultValue</span>
				<span class="n">deltaList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span>
				<span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

			<span class="n">relValueList</span> <span class="o">=</span> <span class="n">firstList</span>
			<span class="k">for</span> <span class="n">blendList</span> <span class="ow">in</span> <span class="n">deltaList</span><span class="p">:</span>
				<span class="n">relValueList</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">blendList</span><span class="p">)</span>
			<span class="n">out</span> <span class="o">=</span> <span class="p">[</span><span class="n">encodeNumber</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">relValueList</span><span class="p">]</span>
			<span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">encodeNumber</span><span class="p">(</span><span class="n">numBlends</span><span class="p">))</span>
			<span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bytechr</span><span class="p">(</span><span class="n">blendOp</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">out</span></div></div>


<div class="viewcode-block" id="encodeNumber"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.encodeNumber">[docs]</a><span class="k">def</span> <span class="nf">encodeNumber</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
	<span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">psCharStrings</span><span class="o">.</span><span class="n">encodeFloat</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="k">return</span> <span class="n">psCharStrings</span><span class="o">.</span><span class="n">encodeIntCFF</span><span class="p">(</span><span class="n">num</span><span class="p">)</span></div>


<div class="viewcode-block" id="TopDictCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictCompiler">[docs]</a><span class="k">class</span> <span class="nc">TopDictCompiler</span><span class="p">(</span><span class="n">DictCompiler</span><span class="p">):</span>

	<span class="n">opcodes</span> <span class="o">=</span> <span class="n">buildOpcodeDict</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span>

<div class="viewcode-block" id="TopDictCompiler.getChildren"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDictCompiler.getChildren">[docs]</a>	<span class="k">def</span> <span class="nf">getChildren</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="n">isCFF2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">isCFF2</span>
		<span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">cff2GetGlyphOrder</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;charset&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">charset</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;ROS&quot;</span><span class="p">):</span>  <span class="c1"># aka isCID</span>
					<span class="n">charsetCode</span> <span class="o">=</span> <span class="kc">None</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="n">charsetCode</span> <span class="o">=</span> <span class="n">getStdCharSet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">charset</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">charsetCode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
					<span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CharsetCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">charset</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="s2">&quot;charset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">charsetCode</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;Encoding&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">Encoding</span><span class="p">:</span>
				<span class="n">encoding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">Encoding</span>
				<span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
					<span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">EncodingCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;VarStore&quot;</span><span class="p">):</span>
				<span class="n">varStoreData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">VarStore</span>
				<span class="n">varStoreComp</span> <span class="o">=</span> <span class="n">VarStoreCompiler</span><span class="p">(</span><span class="n">varStoreData</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
				<span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">varStoreComp</span><span class="p">)</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;FDSelect&quot;</span><span class="p">):</span>
			<span class="c1"># I have not yet supported merging a ttx CFF-CID font, as there are</span>
			<span class="c1"># interesting issues about merging the FDArrays. Here I assume that</span>
			<span class="c1"># either the font was read from XML, and the FDSelect indices are all</span>
			<span class="c1"># in the charstring data, or the FDSelect array is already fully defined.</span>
			<span class="n">fdSelect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">FDSelect</span>
			<span class="c1"># probably read in from XML; assume fdIndex in CharString data</span>
			<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fdSelect</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
				<span class="n">charStrings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">CharStrings</span>
				<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">charset</span><span class="p">:</span>
					<span class="n">fdSelect</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">charStrings</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">fdSelectIndex</span><span class="p">)</span>
			<span class="n">fdSelectComp</span> <span class="o">=</span> <span class="n">FDSelectCompiler</span><span class="p">(</span><span class="n">fdSelect</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
			<span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fdSelectComp</span><span class="p">)</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;CharStrings&quot;</span><span class="p">):</span>
			<span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
			<span class="n">charStrings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">CharStrings</span>
			<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">charset</span><span class="p">:</span>
				<span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">charStrings</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
			<span class="n">charStringsComp</span> <span class="o">=</span> <span class="n">CharStringsCompiler</span><span class="p">(</span>
				<span class="n">items</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
			<span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">charStringsComp</span><span class="p">)</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;FDArray&quot;</span><span class="p">):</span>
			<span class="c1"># I have not yet supported merging a ttx CFF-CID font, as there are</span>
			<span class="c1"># interesting issues about merging the FDArrays. Here I assume that the</span>
			<span class="c1"># FDArray info is correct and complete.</span>
			<span class="n">fdArrayIndexComp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">FDArray</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
			<span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fdArrayIndexComp</span><span class="p">)</span>
			<span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">fdArrayIndexComp</span><span class="o">.</span><span class="n">getChildren</span><span class="p">(</span><span class="n">strings</span><span class="p">))</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;Private&quot;</span><span class="p">):</span>
			<span class="n">privComp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">Private</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
			<span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">privComp</span><span class="p">)</span>
			<span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">privComp</span><span class="o">.</span><span class="n">getChildren</span><span class="p">(</span><span class="n">strings</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">children</span></div></div>


<div class="viewcode-block" id="FontDictCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FontDictCompiler">[docs]</a><span class="k">class</span> <span class="nc">FontDictCompiler</span><span class="p">(</span><span class="n">DictCompiler</span><span class="p">):</span>
	<span class="n">opcodes</span> <span class="o">=</span> <span class="n">buildOpcodeDict</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dictObj</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">FontDictCompiler</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">dictObj</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="c1">#</span>
		<span class="c1"># We now take some effort to detect if there were any key/value pairs</span>
		<span class="c1"># supplied that were ignored in the FontDict context, and issue a warning</span>
		<span class="c1"># for those cases.</span>
		<span class="c1">#</span>
		<span class="n">ignoredNames</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">dictObj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span>
		<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">dictObj</span><span class="o">.</span><span class="n">converters</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">dictObj</span><span class="o">.</span><span class="n">order</span><span class="p">)):</span>
			<span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">dictObj</span><span class="o">.</span><span class="n">rawDict</span><span class="p">:</span>
				<span class="c1"># The font was directly read from binary. In this</span>
				<span class="c1"># case, we want to report *all* &quot;useless&quot; key/value</span>
				<span class="c1"># pairs that are in the font, not just the ones that</span>
				<span class="c1"># are different from the default.</span>
				<span class="n">ignoredNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="c1"># The font was probably read from a TTX file. We only</span>
				<span class="c1"># warn about keys whos value is not the default. The</span>
				<span class="c1"># ones that have the default value will not be written</span>
				<span class="c1"># to binary anyway.</span>
				<span class="n">default</span> <span class="o">=</span> <span class="n">dictObj</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
					<span class="n">conv</span> <span class="o">=</span> <span class="n">dictObj</span><span class="o">.</span><span class="n">converters</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
					<span class="n">default</span> <span class="o">=</span> <span class="n">conv</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">dictObj</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
				<span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dictObj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">!=</span> <span class="n">default</span><span class="p">:</span>
					<span class="n">ignoredNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">ignoredNames</span><span class="p">:</span>
			<span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
				<span class="s2">&quot;Some CFF FDArray/FontDict keys were ignored upon compile: &quot;</span> <span class="o">+</span>
				<span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">ignoredNames</span><span class="p">)))</span>

<div class="viewcode-block" id="FontDictCompiler.getChildren"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FontDictCompiler.getChildren">[docs]</a>	<span class="k">def</span> <span class="nf">getChildren</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;Private&quot;</span><span class="p">):</span>
			<span class="n">privComp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">Private</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
			<span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">privComp</span><span class="p">)</span>
			<span class="n">children</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">privComp</span><span class="o">.</span><span class="n">getChildren</span><span class="p">(</span><span class="n">strings</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">children</span></div></div>


<div class="viewcode-block" id="PrivateDictCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.PrivateDictCompiler">[docs]</a><span class="k">class</span> <span class="nc">PrivateDictCompiler</span><span class="p">(</span><span class="n">DictCompiler</span><span class="p">):</span>

	<span class="n">maxBlendStack</span> <span class="o">=</span> <span class="n">maxStackLimit</span>
	<span class="n">opcodes</span> <span class="o">=</span> <span class="n">buildOpcodeDict</span><span class="p">(</span><span class="n">privateDictOperators</span><span class="p">)</span>

<div class="viewcode-block" id="PrivateDictCompiler.setPos"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.PrivateDictCompiler.setPos">[docs]</a>	<span class="k">def</span> <span class="nf">setPos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">endPos</span><span class="p">):</span>
		<span class="n">size</span> <span class="o">=</span> <span class="n">endPos</span> <span class="o">-</span> <span class="n">pos</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">rawDict</span><span class="p">[</span><span class="s2">&quot;Private&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">size</span><span class="p">,</span> <span class="n">pos</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span></div>

<div class="viewcode-block" id="PrivateDictCompiler.getChildren"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.PrivateDictCompiler.getChildren">[docs]</a>	<span class="k">def</span> <span class="nf">getChildren</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
		<span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="p">,</span> <span class="s2">&quot;Subrs&quot;</span><span class="p">):</span>
			<span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dictObj</span><span class="o">.</span><span class="n">Subrs</span><span class="o">.</span><span class="n">getCompiler</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">children</span></div></div>


<div class="viewcode-block" id="BaseDict"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.BaseDict">[docs]</a><span class="k">class</span> <span class="nc">BaseDict</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="k">assert</span> <span class="p">(</span><span class="n">isCFF2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">rawDict</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">skipNames</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="n">strings</span>
		<span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_isCFF2</span> <span class="o">=</span> <span class="n">isCFF2</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span>
		<span class="k">if</span> <span class="n">offset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;loading </span><span class="si">%s</span><span class="s2"> at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">offset</span>

<div class="viewcode-block" id="BaseDict.decompile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.BaseDict.decompile">[docs]</a>	<span class="k">def</span> <span class="nf">decompile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
		<span class="n">log</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">DEBUG</span><span class="p">,</span> <span class="s2">&quot;    length </span><span class="si">%s</span><span class="s2"> is </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
		<span class="n">dec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">decompilerClass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">dec</span><span class="o">.</span><span class="n">decompile</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">rawDict</span> <span class="o">=</span> <span class="n">dec</span><span class="o">.</span><span class="n">getDict</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">postDecompile</span><span class="p">()</span></div>

<div class="viewcode-block" id="BaseDict.postDecompile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.BaseDict.postDecompile">[docs]</a>	<span class="k">def</span> <span class="nf">postDecompile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">pass</span></div>

<div class="viewcode-block" id="BaseDict.getCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.BaseDict.getCompiler">[docs]</a>	<span class="k">def</span> <span class="nf">getCompiler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">compilerClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span></div>

	<span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">name</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;__&quot;</span><span class="p">:</span>
			<span class="c1"># to make deepcopy() and pickle.load() work, we need to signal with</span>
			<span class="c1"># AttributeError that dunder methods like &#39;__deepcopy__&#39; or &#39;__getstate__&#39;</span>
			<span class="c1"># aren&#39;t implemented. For more details, see:</span>
			<span class="c1"># https://github.com/fonttools/fonttools/pull/1488</span>
			<span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rawDict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
		<span class="n">conv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">converters</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
		<span class="n">value</span> <span class="o">=</span> <span class="n">conv</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
		<span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">value</span>

<div class="viewcode-block" id="BaseDict.toXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.BaseDict.toXML">[docs]</a>	<span class="k">def</span> <span class="nf">toXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">):</span>
		<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">:</span>
			<span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skipNames</span><span class="p">:</span>
				<span class="k">continue</span>
			<span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
			<span class="c1"># XXX For &quot;charset&quot; we never skip calling xmlWrite even if the</span>
			<span class="c1"># value is None, so we always write the following XML comment:</span>
			<span class="c1">#</span>
			<span class="c1"># &lt;!-- charset is dumped separately as the &#39;GlyphOrder&#39; element --&gt;</span>
			<span class="c1">#</span>
			<span class="c1"># Charset is None when &#39;CFF &#39; table is imported from XML into an</span>
			<span class="c1"># empty TTFont(). By writing this comment all the time, we obtain</span>
			<span class="c1"># the same XML output whether roundtripping XML-to-XML or</span>
			<span class="c1"># dumping binary-to-XML</span>
			<span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;charset&quot;</span><span class="p">:</span>
				<span class="k">continue</span>
			<span class="n">conv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">converters</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
			<span class="n">conv</span><span class="o">.</span><span class="n">xmlWrite</span><span class="p">(</span><span class="n">xmlWriter</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
		<span class="n">ignoredNames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rawDict</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">ignoredNames</span><span class="p">:</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">comment</span><span class="p">(</span>
				<span class="s2">&quot;some keys were ignored: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">ignoredNames</span><span class="p">)))</span>
			<span class="n">xmlWriter</span><span class="o">.</span><span class="n">newline</span><span class="p">()</span></div>

<div class="viewcode-block" id="BaseDict.fromXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.BaseDict.fromXML">[docs]</a>	<span class="k">def</span> <span class="nf">fromXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
		<span class="n">conv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">converters</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
		<span class="n">value</span> <span class="o">=</span> <span class="n">conv</span><span class="o">.</span><span class="n">xmlRead</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TopDict"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDict">[docs]</a><span class="k">class</span> <span class="nc">TopDict</span><span class="p">(</span><span class="n">BaseDict</span><span class="p">):</span>

	<span class="n">defaults</span> <span class="o">=</span> <span class="n">buildDefaults</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span>
	<span class="n">converters</span> <span class="o">=</span> <span class="n">buildConverters</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span>
	<span class="n">compilerClass</span> <span class="o">=</span> <span class="n">TopDictCompiler</span>
	<span class="n">order</span> <span class="o">=</span> <span class="n">buildOrder</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span>
	<span class="n">decompilerClass</span> <span class="o">=</span> <span class="n">TopDictDecompiler</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
			<span class="n">GlobalSubrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cff2GetGlyphOrder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">TopDict</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cff2GetGlyphOrder</span> <span class="o">=</span> <span class="n">cff2GetGlyphOrder</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">GlobalSubrs</span> <span class="o">=</span> <span class="n">GlobalSubrs</span>
		<span class="k">if</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">defaults</span> <span class="o">=</span> <span class="n">buildDefaults</span><span class="p">(</span><span class="n">topDictOperators2</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">charset</span> <span class="o">=</span> <span class="n">cff2GetGlyphOrder</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">buildOrder</span><span class="p">(</span><span class="n">topDictOperators2</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">defaults</span> <span class="o">=</span> <span class="n">buildDefaults</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">buildOrder</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span>

<div class="viewcode-block" id="TopDict.getGlyphOrder"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDict.getGlyphOrder">[docs]</a>	<span class="k">def</span> <span class="nf">getGlyphOrder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">charset</span></div>

<div class="viewcode-block" id="TopDict.postDecompile"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDict.postDecompile">[docs]</a>	<span class="k">def</span> <span class="nf">postDecompile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rawDict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;CharStrings&quot;</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">offset</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">return</span>
		<span class="c1"># get the number of glyphs beforehand.</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isCFF2</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">numGlyphs</span> <span class="o">=</span> <span class="n">readCard32</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">numGlyphs</span> <span class="o">=</span> <span class="n">readCard16</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">)</span></div>

<div class="viewcode-block" id="TopDict.toXML"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDict.toXML">[docs]</a>	<span class="k">def</span> <span class="nf">toXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">):</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;CharStrings&quot;</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">decompileAllCharStrings</span><span class="p">()</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;ROS&quot;</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">skipNames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Encoding&#39;</span><span class="p">]</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;ROS&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;CharStrings&quot;</span><span class="p">):</span>
			<span class="c1"># these values have default values, but I only want them to show up</span>
			<span class="c1"># in CID fonts.</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">skipNames</span> <span class="o">=</span> <span class="p">[</span>
				<span class="s1">&#39;CIDFontVersion&#39;</span><span class="p">,</span> <span class="s1">&#39;CIDFontRevision&#39;</span><span class="p">,</span> <span class="s1">&#39;CIDFontType&#39;</span><span class="p">,</span> <span class="s1">&#39;CIDCount&#39;</span><span class="p">]</span>
		<span class="n">BaseDict</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlWriter</span><span class="p">)</span></div>

<div class="viewcode-block" id="TopDict.decompileAllCharStrings"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDict.decompileAllCharStrings">[docs]</a>	<span class="k">def</span> <span class="nf">decompileAllCharStrings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># Make sure that all the Private Dicts have been instantiated.</span>
		<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">charString</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CharStrings</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">charString</span><span class="o">.</span><span class="n">decompile</span><span class="p">()</span>
			<span class="k">except</span><span class="p">:</span>
				<span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error in charstring </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
				<span class="k">raise</span></div>

<div class="viewcode-block" id="TopDict.recalcFontBBox"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.TopDict.recalcFontBBox">[docs]</a>	<span class="k">def</span> <span class="nf">recalcFontBBox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">fontBBox</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">for</span> <span class="n">charString</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CharStrings</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
			<span class="n">bounds</span> <span class="o">=</span> <span class="n">charString</span><span class="o">.</span><span class="n">calcBounds</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CharStrings</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">bounds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
				<span class="k">if</span> <span class="n">fontBBox</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
					<span class="n">fontBBox</span> <span class="o">=</span> <span class="n">unionRect</span><span class="p">(</span><span class="n">fontBBox</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="n">fontBBox</span> <span class="o">=</span> <span class="n">bounds</span>

		<span class="k">if</span> <span class="n">fontBBox</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">FontBBox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="p">[</span><span class="s1">&#39;FontBBox&#39;</span><span class="p">][:]</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">FontBBox</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">intRect</span><span class="p">(</span><span class="n">fontBBox</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="FontDict"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FontDict">[docs]</a><span class="k">class</span> <span class="nc">FontDict</span><span class="p">(</span><span class="n">BaseDict</span><span class="p">):</span>
	<span class="c1">#</span>
	<span class="c1"># Since fonttools used to pass a lot of fields that are not relevant in the FDArray</span>
	<span class="c1"># FontDict, there are &#39;ttx&#39; files in the wild that contain all these. These got in</span>
	<span class="c1"># the ttx files because fonttools writes explicit values for all the TopDict default</span>
	<span class="c1"># values. These are not actually illegal in the context of an FDArray FontDict - you</span>
	<span class="c1"># can legally, per spec, put any arbitrary key/value pair in a FontDict - but are</span>
	<span class="c1"># useless since current major company CFF interpreters ignore anything but the set</span>
	<span class="c1"># listed in this file. So, we just silently skip them. An exception is Weight: this</span>
	<span class="c1"># is not used by any interpreter, but some foundries have asked that this be</span>
	<span class="c1"># supported in FDArray FontDicts just to preserve information about the design when</span>
	<span class="c1"># the font is being inspected.</span>
	<span class="c1">#</span>
	<span class="c1"># On top of that, there are fonts out there that contain such useless FontDict values.</span>
	<span class="c1">#</span>
	<span class="c1"># By subclassing TopDict, we *allow* all key/values from TopDict, both when reading</span>
	<span class="c1"># from binary or when reading from XML, but by overriding `order` with a limited</span>
	<span class="c1"># list of names, we ensure that only the useful names ever get exported to XML and</span>
	<span class="c1"># ever get compiled into the binary font.</span>
	<span class="c1">#</span>
	<span class="c1"># We override compilerClass so we can warn about &quot;useless&quot; key/value pairs, either</span>
	<span class="c1"># from the original binary font or from TTX input.</span>
	<span class="c1">#</span>
	<span class="c1"># See:</span>
	<span class="c1"># - https://github.com/fonttools/fonttools/issues/740</span>
	<span class="c1"># - https://github.com/fonttools/fonttools/issues/601</span>
	<span class="c1"># - https://github.com/adobe-type-tools/afdko/issues/137</span>
	<span class="c1">#</span>
	<span class="n">defaults</span> <span class="o">=</span> <span class="p">{}</span>
	<span class="n">converters</span> <span class="o">=</span> <span class="n">buildConverters</span><span class="p">(</span><span class="n">topDictOperators</span><span class="p">)</span>
	<span class="n">compilerClass</span> <span class="o">=</span> <span class="n">FontDictCompiler</span>
	<span class="n">orderCFF</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;FontName&#39;</span><span class="p">,</span> <span class="s1">&#39;FontMatrix&#39;</span><span class="p">,</span> <span class="s1">&#39;Weight&#39;</span><span class="p">,</span> <span class="s1">&#39;Private&#39;</span><span class="p">]</span>
	<span class="n">orderCFF2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Private&#39;</span><span class="p">]</span>
	<span class="n">decompilerClass</span> <span class="o">=</span> <span class="n">TopDictDecompiler</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
			<span class="n">GlobalSubrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">vstore</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">FontDict</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">vstore</span> <span class="o">=</span> <span class="n">vstore</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setCFF2</span><span class="p">(</span><span class="n">isCFF2</span><span class="p">)</span>

<div class="viewcode-block" id="FontDict.setCFF2"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.FontDict.setCFF2">[docs]</a>	<span class="k">def</span> <span class="nf">setCFF2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">isCFF2</span><span class="p">):</span>
		<span class="c1"># isCFF2 may be None.</span>
		<span class="k">if</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orderCFF2</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_isCFF2</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orderCFF</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_isCFF2</span> <span class="o">=</span> <span class="kc">False</span></div></div>


<div class="viewcode-block" id="PrivateDict"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.PrivateDict">[docs]</a><span class="k">class</span> <span class="nc">PrivateDict</span><span class="p">(</span><span class="n">BaseDict</span><span class="p">):</span>
	<span class="n">defaults</span> <span class="o">=</span> <span class="n">buildDefaults</span><span class="p">(</span><span class="n">privateDictOperators</span><span class="p">)</span>
	<span class="n">converters</span> <span class="o">=</span> <span class="n">buildConverters</span><span class="p">(</span><span class="n">privateDictOperators</span><span class="p">)</span>
	<span class="n">order</span> <span class="o">=</span> <span class="n">buildOrder</span><span class="p">(</span><span class="n">privateDictOperators</span><span class="p">)</span>
	<span class="n">decompilerClass</span> <span class="o">=</span> <span class="n">PrivateDictDecompiler</span>
	<span class="n">compilerClass</span> <span class="o">=</span> <span class="n">PrivateDictCompiler</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
			<span class="n">vstore</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">PrivateDict</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">strings</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="n">isCFF2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">vstore</span> <span class="o">=</span> <span class="n">vstore</span>
		<span class="k">if</span> <span class="n">isCFF2</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">defaults</span> <span class="o">=</span> <span class="n">buildDefaults</span><span class="p">(</span><span class="n">privateDictOperators2</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">buildOrder</span><span class="p">(</span><span class="n">privateDictOperators2</span><span class="p">)</span>
			<span class="c1"># Provide dummy values. This avoids needing to provide</span>
			<span class="c1"># an isCFF2 state in a lot of places.</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">nominalWidthX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaultWidthX</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">defaults</span> <span class="o">=</span> <span class="n">buildDefaults</span><span class="p">(</span><span class="n">privateDictOperators</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">buildOrder</span><span class="p">(</span><span class="n">privateDictOperators</span><span class="p">)</span>

	<span class="nd">@property</span>
	<span class="k">def</span> <span class="nf">in_cff2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isCFF2</span>

<div class="viewcode-block" id="PrivateDict.getNumRegions"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.PrivateDict.getNumRegions">[docs]</a>	<span class="k">def</span> <span class="nf">getNumRegions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vi</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="c1"># called from misc/psCharStrings.py</span>
		<span class="c1"># if getNumRegions is being called, we can assume that VarStore exists.</span>
		<span class="k">if</span> <span class="n">vi</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;vsindex&#39;</span><span class="p">):</span>
				<span class="n">vi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vsindex</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">vi</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">numRegions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vstore</span><span class="o">.</span><span class="n">getNumRegions</span><span class="p">(</span><span class="n">vi</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">numRegions</span></div></div>


<div class="viewcode-block" id="IndexedStrings"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexedStrings">[docs]</a><span class="k">class</span> <span class="nc">IndexedStrings</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

	<span class="sd">&quot;&quot;&quot;SID -&gt; string mapping.&quot;&quot;&quot;</span>

	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">strings</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">strings</span> <span class="o">=</span> <span class="p">[</span>
				<span class="n">tostr</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;latin1&quot;</span><span class="p">)</span>
				<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">Index</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
			<span class="p">]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="n">strings</span>

<div class="viewcode-block" id="IndexedStrings.getCompiler"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexedStrings.getCompiler">[docs]</a>	<span class="k">def</span> <span class="nf">getCompiler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">IndexedStringsCompiler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">isCFF2</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

	<span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">SID</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">SID</span> <span class="o">&lt;</span> <span class="n">cffStandardStringCount</span><span class="p">:</span>
			<span class="k">return</span> <span class="n">cffStandardStrings</span><span class="p">[</span><span class="n">SID</span><span class="p">]</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="n">SID</span> <span class="o">-</span> <span class="n">cffStandardStringCount</span><span class="p">]</span>

<div class="viewcode-block" id="IndexedStrings.getSID"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexedStrings.getSID">[docs]</a>	<span class="k">def</span> <span class="nf">getSID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;stringMapping&quot;</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">buildStringMapping</span><span class="p">()</span>
		<span class="n">s</span> <span class="o">=</span> <span class="n">tostr</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;latin1&quot;</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">cffStandardStringMapping</span><span class="p">:</span>
			<span class="n">SID</span> <span class="o">=</span> <span class="n">cffStandardStringMapping</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
		<span class="k">elif</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stringMapping</span><span class="p">:</span>
			<span class="n">SID</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stringMapping</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">SID</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">)</span> <span class="o">+</span> <span class="n">cffStandardStringCount</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">stringMapping</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">SID</span>
		<span class="k">return</span> <span class="n">SID</span></div>

<div class="viewcode-block" id="IndexedStrings.getStrings"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexedStrings.getStrings">[docs]</a>	<span class="k">def</span> <span class="nf">getStrings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">strings</span></div>

<div class="viewcode-block" id="IndexedStrings.buildStringMapping"><a class="viewcode-back" href="../../cffLib/index.html#fontTools.cffLib.IndexedStrings.buildStringMapping">[docs]</a>	<span class="k">def</span> <span class="nf">buildStringMapping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">stringMapping</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">)):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">stringMapping</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">strings</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="n">cffStandardStringCount</span></div></div>


<span class="c1"># The 391 Standard Strings as used in the CFF format.</span>
<span class="c1"># from Adobe Technical None #5176, version 1.0, 18 March 1998</span>

<span class="n">cffStandardStrings</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.notdef&#39;</span><span class="p">,</span> <span class="s1">&#39;space&#39;</span><span class="p">,</span> <span class="s1">&#39;exclam&#39;</span><span class="p">,</span> <span class="s1">&#39;quotedbl&#39;</span><span class="p">,</span> <span class="s1">&#39;numbersign&#39;</span><span class="p">,</span>
		<span class="s1">&#39;dollar&#39;</span><span class="p">,</span> <span class="s1">&#39;percent&#39;</span><span class="p">,</span> <span class="s1">&#39;ampersand&#39;</span><span class="p">,</span> <span class="s1">&#39;quoteright&#39;</span><span class="p">,</span> <span class="s1">&#39;parenleft&#39;</span><span class="p">,</span> <span class="s1">&#39;parenright&#39;</span><span class="p">,</span>
		<span class="s1">&#39;asterisk&#39;</span><span class="p">,</span> <span class="s1">&#39;plus&#39;</span><span class="p">,</span> <span class="s1">&#39;comma&#39;</span><span class="p">,</span> <span class="s1">&#39;hyphen&#39;</span><span class="p">,</span> <span class="s1">&#39;period&#39;</span><span class="p">,</span> <span class="s1">&#39;slash&#39;</span><span class="p">,</span> <span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">,</span>
		<span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">,</span> <span class="s1">&#39;four&#39;</span><span class="p">,</span> <span class="s1">&#39;five&#39;</span><span class="p">,</span> <span class="s1">&#39;six&#39;</span><span class="p">,</span> <span class="s1">&#39;seven&#39;</span><span class="p">,</span> <span class="s1">&#39;eight&#39;</span><span class="p">,</span> <span class="s1">&#39;nine&#39;</span><span class="p">,</span> <span class="s1">&#39;colon&#39;</span><span class="p">,</span>
		<span class="s1">&#39;semicolon&#39;</span><span class="p">,</span> <span class="s1">&#39;less&#39;</span><span class="p">,</span> <span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="s1">&#39;greater&#39;</span><span class="p">,</span> <span class="s1">&#39;question&#39;</span><span class="p">,</span> <span class="s1">&#39;at&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span>
		<span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span>
		<span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;bracketleft&#39;</span><span class="p">,</span> <span class="s1">&#39;backslash&#39;</span><span class="p">,</span>
		<span class="s1">&#39;bracketright&#39;</span><span class="p">,</span> <span class="s1">&#39;asciicircum&#39;</span><span class="p">,</span> <span class="s1">&#39;underscore&#39;</span><span class="p">,</span> <span class="s1">&#39;quoteleft&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
		<span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span>
		<span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;braceleft&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;braceright&#39;</span><span class="p">,</span>
		<span class="s1">&#39;asciitilde&#39;</span><span class="p">,</span> <span class="s1">&#39;exclamdown&#39;</span><span class="p">,</span> <span class="s1">&#39;cent&#39;</span><span class="p">,</span> <span class="s1">&#39;sterling&#39;</span><span class="p">,</span> <span class="s1">&#39;fraction&#39;</span><span class="p">,</span> <span class="s1">&#39;yen&#39;</span><span class="p">,</span> <span class="s1">&#39;florin&#39;</span><span class="p">,</span>
		<span class="s1">&#39;section&#39;</span><span class="p">,</span> <span class="s1">&#39;currency&#39;</span><span class="p">,</span> <span class="s1">&#39;quotesingle&#39;</span><span class="p">,</span> <span class="s1">&#39;quotedblleft&#39;</span><span class="p">,</span> <span class="s1">&#39;guillemotleft&#39;</span><span class="p">,</span>
		<span class="s1">&#39;guilsinglleft&#39;</span><span class="p">,</span> <span class="s1">&#39;guilsinglright&#39;</span><span class="p">,</span> <span class="s1">&#39;fi&#39;</span><span class="p">,</span> <span class="s1">&#39;fl&#39;</span><span class="p">,</span> <span class="s1">&#39;endash&#39;</span><span class="p">,</span> <span class="s1">&#39;dagger&#39;</span><span class="p">,</span>
		<span class="s1">&#39;daggerdbl&#39;</span><span class="p">,</span> <span class="s1">&#39;periodcentered&#39;</span><span class="p">,</span> <span class="s1">&#39;paragraph&#39;</span><span class="p">,</span> <span class="s1">&#39;bullet&#39;</span><span class="p">,</span> <span class="s1">&#39;quotesinglbase&#39;</span><span class="p">,</span>
		<span class="s1">&#39;quotedblbase&#39;</span><span class="p">,</span> <span class="s1">&#39;quotedblright&#39;</span><span class="p">,</span> <span class="s1">&#39;guillemotright&#39;</span><span class="p">,</span> <span class="s1">&#39;ellipsis&#39;</span><span class="p">,</span> <span class="s1">&#39;perthousand&#39;</span><span class="p">,</span>
		<span class="s1">&#39;questiondown&#39;</span><span class="p">,</span> <span class="s1">&#39;grave&#39;</span><span class="p">,</span> <span class="s1">&#39;acute&#39;</span><span class="p">,</span> <span class="s1">&#39;circumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;tilde&#39;</span><span class="p">,</span> <span class="s1">&#39;macron&#39;</span><span class="p">,</span> <span class="s1">&#39;breve&#39;</span><span class="p">,</span>
		<span class="s1">&#39;dotaccent&#39;</span><span class="p">,</span> <span class="s1">&#39;dieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;ring&#39;</span><span class="p">,</span> <span class="s1">&#39;cedilla&#39;</span><span class="p">,</span> <span class="s1">&#39;hungarumlaut&#39;</span><span class="p">,</span> <span class="s1">&#39;ogonek&#39;</span><span class="p">,</span> <span class="s1">&#39;caron&#39;</span><span class="p">,</span>
		<span class="s1">&#39;emdash&#39;</span><span class="p">,</span> <span class="s1">&#39;AE&#39;</span><span class="p">,</span> <span class="s1">&#39;ordfeminine&#39;</span><span class="p">,</span> <span class="s1">&#39;Lslash&#39;</span><span class="p">,</span> <span class="s1">&#39;Oslash&#39;</span><span class="p">,</span> <span class="s1">&#39;OE&#39;</span><span class="p">,</span> <span class="s1">&#39;ordmasculine&#39;</span><span class="p">,</span> <span class="s1">&#39;ae&#39;</span><span class="p">,</span>
		<span class="s1">&#39;dotlessi&#39;</span><span class="p">,</span> <span class="s1">&#39;lslash&#39;</span><span class="p">,</span> <span class="s1">&#39;oslash&#39;</span><span class="p">,</span> <span class="s1">&#39;oe&#39;</span><span class="p">,</span> <span class="s1">&#39;germandbls&#39;</span><span class="p">,</span> <span class="s1">&#39;onesuperior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;logicalnot&#39;</span><span class="p">,</span> <span class="s1">&#39;mu&#39;</span><span class="p">,</span> <span class="s1">&#39;trademark&#39;</span><span class="p">,</span> <span class="s1">&#39;Eth&#39;</span><span class="p">,</span> <span class="s1">&#39;onehalf&#39;</span><span class="p">,</span> <span class="s1">&#39;plusminus&#39;</span><span class="p">,</span> <span class="s1">&#39;Thorn&#39;</span><span class="p">,</span>
		<span class="s1">&#39;onequarter&#39;</span><span class="p">,</span> <span class="s1">&#39;divide&#39;</span><span class="p">,</span> <span class="s1">&#39;brokenbar&#39;</span><span class="p">,</span> <span class="s1">&#39;degree&#39;</span><span class="p">,</span> <span class="s1">&#39;thorn&#39;</span><span class="p">,</span> <span class="s1">&#39;threequarters&#39;</span><span class="p">,</span>
		<span class="s1">&#39;twosuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;registered&#39;</span><span class="p">,</span> <span class="s1">&#39;minus&#39;</span><span class="p">,</span> <span class="s1">&#39;eth&#39;</span><span class="p">,</span> <span class="s1">&#39;multiply&#39;</span><span class="p">,</span> <span class="s1">&#39;threesuperior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;copyright&#39;</span><span class="p">,</span> <span class="s1">&#39;Aacute&#39;</span><span class="p">,</span> <span class="s1">&#39;Acircumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;Adieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;Agrave&#39;</span><span class="p">,</span> <span class="s1">&#39;Aring&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Atilde&#39;</span><span class="p">,</span> <span class="s1">&#39;Ccedilla&#39;</span><span class="p">,</span> <span class="s1">&#39;Eacute&#39;</span><span class="p">,</span> <span class="s1">&#39;Ecircumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;Edieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;Egrave&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Iacute&#39;</span><span class="p">,</span> <span class="s1">&#39;Icircumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;Idieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;Igrave&#39;</span><span class="p">,</span> <span class="s1">&#39;Ntilde&#39;</span><span class="p">,</span> <span class="s1">&#39;Oacute&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Ocircumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;Odieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;Ograve&#39;</span><span class="p">,</span> <span class="s1">&#39;Otilde&#39;</span><span class="p">,</span> <span class="s1">&#39;Scaron&#39;</span><span class="p">,</span> <span class="s1">&#39;Uacute&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Ucircumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;Udieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;Ugrave&#39;</span><span class="p">,</span> <span class="s1">&#39;Yacute&#39;</span><span class="p">,</span> <span class="s1">&#39;Ydieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;Zcaron&#39;</span><span class="p">,</span>
		<span class="s1">&#39;aacute&#39;</span><span class="p">,</span> <span class="s1">&#39;acircumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;adieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;agrave&#39;</span><span class="p">,</span> <span class="s1">&#39;aring&#39;</span><span class="p">,</span> <span class="s1">&#39;atilde&#39;</span><span class="p">,</span> <span class="s1">&#39;ccedilla&#39;</span><span class="p">,</span>
		<span class="s1">&#39;eacute&#39;</span><span class="p">,</span> <span class="s1">&#39;ecircumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;edieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;egrave&#39;</span><span class="p">,</span> <span class="s1">&#39;iacute&#39;</span><span class="p">,</span> <span class="s1">&#39;icircumflex&#39;</span><span class="p">,</span>
		<span class="s1">&#39;idieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;igrave&#39;</span><span class="p">,</span> <span class="s1">&#39;ntilde&#39;</span><span class="p">,</span> <span class="s1">&#39;oacute&#39;</span><span class="p">,</span> <span class="s1">&#39;ocircumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;odieresis&#39;</span><span class="p">,</span>
		<span class="s1">&#39;ograve&#39;</span><span class="p">,</span> <span class="s1">&#39;otilde&#39;</span><span class="p">,</span> <span class="s1">&#39;scaron&#39;</span><span class="p">,</span> <span class="s1">&#39;uacute&#39;</span><span class="p">,</span> <span class="s1">&#39;ucircumflex&#39;</span><span class="p">,</span> <span class="s1">&#39;udieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;ugrave&#39;</span><span class="p">,</span>
		<span class="s1">&#39;yacute&#39;</span><span class="p">,</span> <span class="s1">&#39;ydieresis&#39;</span><span class="p">,</span> <span class="s1">&#39;zcaron&#39;</span><span class="p">,</span> <span class="s1">&#39;exclamsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Hungarumlautsmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;dollaroldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;dollarsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;ampersandsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Acutesmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;parenleftsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;parenrightsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;twodotenleader&#39;</span><span class="p">,</span> <span class="s1">&#39;onedotenleader&#39;</span><span class="p">,</span>
		<span class="s1">&#39;zerooldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;oneoldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;twooldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;threeoldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;fouroldstyle&#39;</span><span class="p">,</span>
		<span class="s1">&#39;fiveoldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;sixoldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;sevenoldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;eightoldstyle&#39;</span><span class="p">,</span>
		<span class="s1">&#39;nineoldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;commasuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;threequartersemdash&#39;</span><span class="p">,</span> <span class="s1">&#39;periodsuperior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;questionsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;asuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;bsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;centsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;dsuperior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;esuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;isuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;lsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;msuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;nsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;osuperior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;rsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;ssuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;tsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;ff&#39;</span><span class="p">,</span> <span class="s1">&#39;ffi&#39;</span><span class="p">,</span> <span class="s1">&#39;ffl&#39;</span><span class="p">,</span> <span class="s1">&#39;parenleftinferior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;parenrightinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;Circumflexsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;hyphensuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;Gravesmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Asmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Bsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Csmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Dsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Esmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Fsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Gsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Hsmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Ismall&#39;</span><span class="p">,</span> <span class="s1">&#39;Jsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ksmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Lsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Msmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Nsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Osmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Psmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Qsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Rsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ssmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Tsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Usmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Vsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Wsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Xsmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Ysmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Zsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;colonmonetary&#39;</span><span class="p">,</span> <span class="s1">&#39;onefitted&#39;</span><span class="p">,</span> <span class="s1">&#39;rupiah&#39;</span><span class="p">,</span> <span class="s1">&#39;Tildesmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;exclamdownsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;centoldstyle&#39;</span><span class="p">,</span> <span class="s1">&#39;Lslashsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Scaronsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Zcaronsmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Dieresissmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Brevesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Caronsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Dotaccentsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Macronsmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;figuredash&#39;</span><span class="p">,</span> <span class="s1">&#39;hypheninferior&#39;</span><span class="p">,</span> <span class="s1">&#39;Ogoneksmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ringsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Cedillasmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;questiondownsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;oneeighth&#39;</span><span class="p">,</span> <span class="s1">&#39;threeeighths&#39;</span><span class="p">,</span> <span class="s1">&#39;fiveeighths&#39;</span><span class="p">,</span> <span class="s1">&#39;seveneighths&#39;</span><span class="p">,</span>
		<span class="s1">&#39;onethird&#39;</span><span class="p">,</span> <span class="s1">&#39;twothirds&#39;</span><span class="p">,</span> <span class="s1">&#39;zerosuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;foursuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;fivesuperior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;sixsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;sevensuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;eightsuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;ninesuperior&#39;</span><span class="p">,</span> <span class="s1">&#39;zeroinferior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;oneinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;twoinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;threeinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;fourinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;fiveinferior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;sixinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;seveninferior&#39;</span><span class="p">,</span> <span class="s1">&#39;eightinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;nineinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;centinferior&#39;</span><span class="p">,</span>
		<span class="s1">&#39;dollarinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;periodinferior&#39;</span><span class="p">,</span> <span class="s1">&#39;commainferior&#39;</span><span class="p">,</span> <span class="s1">&#39;Agravesmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Aacutesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Acircumflexsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Atildesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Adieresissmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Aringsmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;AEsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ccedillasmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Egravesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Eacutesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ecircumflexsmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Edieresissmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Igravesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Iacutesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Icircumflexsmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Idieresissmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ethsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ntildesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ogravesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Oacutesmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Ocircumflexsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Otildesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Odieresissmall&#39;</span><span class="p">,</span> <span class="s1">&#39;OEsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Oslashsmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Ugravesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Uacutesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ucircumflexsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Udieresissmall&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Yacutesmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Thornsmall&#39;</span><span class="p">,</span> <span class="s1">&#39;Ydieresissmall&#39;</span><span class="p">,</span> <span class="s1">&#39;001.000&#39;</span><span class="p">,</span> <span class="s1">&#39;001.001&#39;</span><span class="p">,</span> <span class="s1">&#39;001.002&#39;</span><span class="p">,</span>
		<span class="s1">&#39;001.003&#39;</span><span class="p">,</span> <span class="s1">&#39;Black&#39;</span><span class="p">,</span> <span class="s1">&#39;Bold&#39;</span><span class="p">,</span> <span class="s1">&#39;Book&#39;</span><span class="p">,</span> <span class="s1">&#39;Light&#39;</span><span class="p">,</span> <span class="s1">&#39;Medium&#39;</span><span class="p">,</span> <span class="s1">&#39;Regular&#39;</span><span class="p">,</span> <span class="s1">&#39;Roman&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Semibold&#39;</span>
<span class="p">]</span>

<span class="n">cffStandardStringCount</span> <span class="o">=</span> <span class="mi">391</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">cffStandardStrings</span><span class="p">)</span> <span class="o">==</span> <span class="n">cffStandardStringCount</span>
<span class="c1"># build reverse mapping</span>
<span class="n">cffStandardStringMapping</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cffStandardStringCount</span><span class="p">):</span>
	<span class="n">cffStandardStringMapping</span><span class="p">[</span><span class="n">cffStandardStrings</span><span class="p">[</span><span class="n">_i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">_i</span>

<span class="n">cffISOAdobeStrings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.notdef&quot;</span><span class="p">,</span> <span class="s2">&quot;space&quot;</span><span class="p">,</span> <span class="s2">&quot;exclam&quot;</span><span class="p">,</span> <span class="s2">&quot;quotedbl&quot;</span><span class="p">,</span> <span class="s2">&quot;numbersign&quot;</span><span class="p">,</span>
<span class="s2">&quot;dollar&quot;</span><span class="p">,</span> <span class="s2">&quot;percent&quot;</span><span class="p">,</span> <span class="s2">&quot;ampersand&quot;</span><span class="p">,</span> <span class="s2">&quot;quoteright&quot;</span><span class="p">,</span> <span class="s2">&quot;parenleft&quot;</span><span class="p">,</span> <span class="s2">&quot;parenright&quot;</span><span class="p">,</span>
<span class="s2">&quot;asterisk&quot;</span><span class="p">,</span> <span class="s2">&quot;plus&quot;</span><span class="p">,</span> <span class="s2">&quot;comma&quot;</span><span class="p">,</span> <span class="s2">&quot;hyphen&quot;</span><span class="p">,</span> <span class="s2">&quot;period&quot;</span><span class="p">,</span> <span class="s2">&quot;slash&quot;</span><span class="p">,</span> <span class="s2">&quot;zero&quot;</span><span class="p">,</span> <span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">,</span>
<span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;four&quot;</span><span class="p">,</span> <span class="s2">&quot;five&quot;</span><span class="p">,</span> <span class="s2">&quot;six&quot;</span><span class="p">,</span> <span class="s2">&quot;seven&quot;</span><span class="p">,</span> <span class="s2">&quot;eight&quot;</span><span class="p">,</span> <span class="s2">&quot;nine&quot;</span><span class="p">,</span> <span class="s2">&quot;colon&quot;</span><span class="p">,</span> <span class="s2">&quot;semicolon&quot;</span><span class="p">,</span>
<span class="s2">&quot;less&quot;</span><span class="p">,</span> <span class="s2">&quot;equal&quot;</span><span class="p">,</span> <span class="s2">&quot;greater&quot;</span><span class="p">,</span> <span class="s2">&quot;question&quot;</span><span class="p">,</span> <span class="s2">&quot;at&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;F&quot;</span><span class="p">,</span> <span class="s2">&quot;G&quot;</span><span class="p">,</span>
<span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;J&quot;</span><span class="p">,</span> <span class="s2">&quot;K&quot;</span><span class="p">,</span> <span class="s2">&quot;L&quot;</span><span class="p">,</span> <span class="s2">&quot;M&quot;</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="s2">&quot;R&quot;</span><span class="p">,</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;V&quot;</span><span class="p">,</span> <span class="s2">&quot;W&quot;</span><span class="p">,</span>
<span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span><span class="p">,</span> <span class="s2">&quot;bracketleft&quot;</span><span class="p">,</span> <span class="s2">&quot;backslash&quot;</span><span class="p">,</span> <span class="s2">&quot;bracketright&quot;</span><span class="p">,</span> <span class="s2">&quot;asciicircum&quot;</span><span class="p">,</span>
<span class="s2">&quot;underscore&quot;</span><span class="p">,</span> <span class="s2">&quot;quoteleft&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;j&quot;</span><span class="p">,</span>
<span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;q&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span>
<span class="s2">&quot;braceleft&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;braceright&quot;</span><span class="p">,</span> <span class="s2">&quot;asciitilde&quot;</span><span class="p">,</span> <span class="s2">&quot;exclamdown&quot;</span><span class="p">,</span> <span class="s2">&quot;cent&quot;</span><span class="p">,</span>
<span class="s2">&quot;sterling&quot;</span><span class="p">,</span> <span class="s2">&quot;fraction&quot;</span><span class="p">,</span> <span class="s2">&quot;yen&quot;</span><span class="p">,</span> <span class="s2">&quot;florin&quot;</span><span class="p">,</span> <span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="s2">&quot;currency&quot;</span><span class="p">,</span> <span class="s2">&quot;quotesingle&quot;</span><span class="p">,</span>
<span class="s2">&quot;quotedblleft&quot;</span><span class="p">,</span> <span class="s2">&quot;guillemotleft&quot;</span><span class="p">,</span> <span class="s2">&quot;guilsinglleft&quot;</span><span class="p">,</span> <span class="s2">&quot;guilsinglright&quot;</span><span class="p">,</span> <span class="s2">&quot;fi&quot;</span><span class="p">,</span> <span class="s2">&quot;fl&quot;</span><span class="p">,</span>
<span class="s2">&quot;endash&quot;</span><span class="p">,</span> <span class="s2">&quot;dagger&quot;</span><span class="p">,</span> <span class="s2">&quot;daggerdbl&quot;</span><span class="p">,</span> <span class="s2">&quot;periodcentered&quot;</span><span class="p">,</span> <span class="s2">&quot;paragraph&quot;</span><span class="p">,</span> <span class="s2">&quot;bullet&quot;</span><span class="p">,</span>
<span class="s2">&quot;quotesinglbase&quot;</span><span class="p">,</span> <span class="s2">&quot;quotedblbase&quot;</span><span class="p">,</span> <span class="s2">&quot;quotedblright&quot;</span><span class="p">,</span> <span class="s2">&quot;guillemotright&quot;</span><span class="p">,</span> <span class="s2">&quot;ellipsis&quot;</span><span class="p">,</span>
<span class="s2">&quot;perthousand&quot;</span><span class="p">,</span> <span class="s2">&quot;questiondown&quot;</span><span class="p">,</span> <span class="s2">&quot;grave&quot;</span><span class="p">,</span> <span class="s2">&quot;acute&quot;</span><span class="p">,</span> <span class="s2">&quot;circumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;tilde&quot;</span><span class="p">,</span>
<span class="s2">&quot;macron&quot;</span><span class="p">,</span> <span class="s2">&quot;breve&quot;</span><span class="p">,</span> <span class="s2">&quot;dotaccent&quot;</span><span class="p">,</span> <span class="s2">&quot;dieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;ring&quot;</span><span class="p">,</span> <span class="s2">&quot;cedilla&quot;</span><span class="p">,</span> <span class="s2">&quot;hungarumlaut&quot;</span><span class="p">,</span>
<span class="s2">&quot;ogonek&quot;</span><span class="p">,</span> <span class="s2">&quot;caron&quot;</span><span class="p">,</span> <span class="s2">&quot;emdash&quot;</span><span class="p">,</span> <span class="s2">&quot;AE&quot;</span><span class="p">,</span> <span class="s2">&quot;ordfeminine&quot;</span><span class="p">,</span> <span class="s2">&quot;Lslash&quot;</span><span class="p">,</span> <span class="s2">&quot;Oslash&quot;</span><span class="p">,</span> <span class="s2">&quot;OE&quot;</span><span class="p">,</span>
<span class="s2">&quot;ordmasculine&quot;</span><span class="p">,</span> <span class="s2">&quot;ae&quot;</span><span class="p">,</span> <span class="s2">&quot;dotlessi&quot;</span><span class="p">,</span> <span class="s2">&quot;lslash&quot;</span><span class="p">,</span> <span class="s2">&quot;oslash&quot;</span><span class="p">,</span> <span class="s2">&quot;oe&quot;</span><span class="p">,</span> <span class="s2">&quot;germandbls&quot;</span><span class="p">,</span>
<span class="s2">&quot;onesuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;logicalnot&quot;</span><span class="p">,</span> <span class="s2">&quot;mu&quot;</span><span class="p">,</span> <span class="s2">&quot;trademark&quot;</span><span class="p">,</span> <span class="s2">&quot;Eth&quot;</span><span class="p">,</span> <span class="s2">&quot;onehalf&quot;</span><span class="p">,</span> <span class="s2">&quot;plusminus&quot;</span><span class="p">,</span>
<span class="s2">&quot;Thorn&quot;</span><span class="p">,</span> <span class="s2">&quot;onequarter&quot;</span><span class="p">,</span> <span class="s2">&quot;divide&quot;</span><span class="p">,</span> <span class="s2">&quot;brokenbar&quot;</span><span class="p">,</span> <span class="s2">&quot;degree&quot;</span><span class="p">,</span> <span class="s2">&quot;thorn&quot;</span><span class="p">,</span>
<span class="s2">&quot;threequarters&quot;</span><span class="p">,</span> <span class="s2">&quot;twosuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;registered&quot;</span><span class="p">,</span> <span class="s2">&quot;minus&quot;</span><span class="p">,</span> <span class="s2">&quot;eth&quot;</span><span class="p">,</span> <span class="s2">&quot;multiply&quot;</span><span class="p">,</span>
<span class="s2">&quot;threesuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;Aacute&quot;</span><span class="p">,</span> <span class="s2">&quot;Acircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;Adieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;Agrave&quot;</span><span class="p">,</span>
<span class="s2">&quot;Aring&quot;</span><span class="p">,</span> <span class="s2">&quot;Atilde&quot;</span><span class="p">,</span> <span class="s2">&quot;Ccedilla&quot;</span><span class="p">,</span> <span class="s2">&quot;Eacute&quot;</span><span class="p">,</span> <span class="s2">&quot;Ecircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;Edieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;Egrave&quot;</span><span class="p">,</span>
<span class="s2">&quot;Iacute&quot;</span><span class="p">,</span> <span class="s2">&quot;Icircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;Idieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;Igrave&quot;</span><span class="p">,</span> <span class="s2">&quot;Ntilde&quot;</span><span class="p">,</span> <span class="s2">&quot;Oacute&quot;</span><span class="p">,</span>
<span class="s2">&quot;Ocircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;Odieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;Ograve&quot;</span><span class="p">,</span> <span class="s2">&quot;Otilde&quot;</span><span class="p">,</span> <span class="s2">&quot;Scaron&quot;</span><span class="p">,</span> <span class="s2">&quot;Uacute&quot;</span><span class="p">,</span>
<span class="s2">&quot;Ucircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;Udieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;Ugrave&quot;</span><span class="p">,</span> <span class="s2">&quot;Yacute&quot;</span><span class="p">,</span> <span class="s2">&quot;Ydieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;Zcaron&quot;</span><span class="p">,</span> <span class="s2">&quot;aacute&quot;</span><span class="p">,</span>
<span class="s2">&quot;acircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;adieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;agrave&quot;</span><span class="p">,</span> <span class="s2">&quot;aring&quot;</span><span class="p">,</span> <span class="s2">&quot;atilde&quot;</span><span class="p">,</span> <span class="s2">&quot;ccedilla&quot;</span><span class="p">,</span> <span class="s2">&quot;eacute&quot;</span><span class="p">,</span>
<span class="s2">&quot;ecircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;edieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;egrave&quot;</span><span class="p">,</span> <span class="s2">&quot;iacute&quot;</span><span class="p">,</span> <span class="s2">&quot;icircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;idieresis&quot;</span><span class="p">,</span>
<span class="s2">&quot;igrave&quot;</span><span class="p">,</span> <span class="s2">&quot;ntilde&quot;</span><span class="p">,</span> <span class="s2">&quot;oacute&quot;</span><span class="p">,</span> <span class="s2">&quot;ocircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;odieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;ograve&quot;</span><span class="p">,</span> <span class="s2">&quot;otilde&quot;</span><span class="p">,</span>
<span class="s2">&quot;scaron&quot;</span><span class="p">,</span> <span class="s2">&quot;uacute&quot;</span><span class="p">,</span> <span class="s2">&quot;ucircumflex&quot;</span><span class="p">,</span> <span class="s2">&quot;udieresis&quot;</span><span class="p">,</span> <span class="s2">&quot;ugrave&quot;</span><span class="p">,</span> <span class="s2">&quot;yacute&quot;</span><span class="p">,</span> <span class="s2">&quot;ydieresis&quot;</span><span class="p">,</span>
<span class="s2">&quot;zcaron&quot;</span><span class="p">]</span>

<span class="n">cffISOAdobeStringCount</span> <span class="o">=</span> <span class="mi">229</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">cffISOAdobeStrings</span><span class="p">)</span> <span class="o">==</span> <span class="n">cffISOAdobeStringCount</span>

<span class="n">cffIExpertStrings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.notdef&quot;</span><span class="p">,</span> <span class="s2">&quot;space&quot;</span><span class="p">,</span> <span class="s2">&quot;exclamsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Hungarumlautsmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;dollaroldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;dollarsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;ampersandsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Acutesmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;parenleftsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;parenrightsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;twodotenleader&quot;</span><span class="p">,</span> <span class="s2">&quot;onedotenleader&quot;</span><span class="p">,</span>
<span class="s2">&quot;comma&quot;</span><span class="p">,</span> <span class="s2">&quot;hyphen&quot;</span><span class="p">,</span> <span class="s2">&quot;period&quot;</span><span class="p">,</span> <span class="s2">&quot;fraction&quot;</span><span class="p">,</span> <span class="s2">&quot;zerooldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;oneoldstyle&quot;</span><span class="p">,</span>
<span class="s2">&quot;twooldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;threeoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;fouroldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;fiveoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;sixoldstyle&quot;</span><span class="p">,</span>
<span class="s2">&quot;sevenoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;eightoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;nineoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;colon&quot;</span><span class="p">,</span> <span class="s2">&quot;semicolon&quot;</span><span class="p">,</span>
<span class="s2">&quot;commasuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;threequartersemdash&quot;</span><span class="p">,</span> <span class="s2">&quot;periodsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;questionsmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;asuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;bsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;centsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;dsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;esuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;isuperior&quot;</span><span class="p">,</span>
<span class="s2">&quot;lsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;msuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;nsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;osuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;rsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;ssuperior&quot;</span><span class="p">,</span>
<span class="s2">&quot;tsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;ff&quot;</span><span class="p">,</span> <span class="s2">&quot;fi&quot;</span><span class="p">,</span> <span class="s2">&quot;fl&quot;</span><span class="p">,</span> <span class="s2">&quot;ffi&quot;</span><span class="p">,</span> <span class="s2">&quot;ffl&quot;</span><span class="p">,</span> <span class="s2">&quot;parenleftinferior&quot;</span><span class="p">,</span>
<span class="s2">&quot;parenrightinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;Circumflexsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;hyphensuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;Gravesmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Asmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Bsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Csmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Dsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Esmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Fsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Gsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Hsmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Ismall&quot;</span><span class="p">,</span> <span class="s2">&quot;Jsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Ksmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Lsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Msmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Nsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Osmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Psmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Qsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Rsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Ssmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Tsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Usmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Vsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Wsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Xsmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Ysmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Zsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;colonmonetary&quot;</span><span class="p">,</span> <span class="s2">&quot;onefitted&quot;</span><span class="p">,</span> <span class="s2">&quot;rupiah&quot;</span><span class="p">,</span> <span class="s2">&quot;Tildesmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;exclamdownsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;centoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;Lslashsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Scaronsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Zcaronsmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Dieresissmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Brevesmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Caronsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Dotaccentsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Macronsmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;figuredash&quot;</span><span class="p">,</span> <span class="s2">&quot;hypheninferior&quot;</span><span class="p">,</span> <span class="s2">&quot;Ogoneksmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Ringsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Cedillasmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;onequarter&quot;</span><span class="p">,</span> <span class="s2">&quot;onehalf&quot;</span><span class="p">,</span> <span class="s2">&quot;threequarters&quot;</span><span class="p">,</span> <span class="s2">&quot;questiondownsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;oneeighth&quot;</span><span class="p">,</span>
<span class="s2">&quot;threeeighths&quot;</span><span class="p">,</span> <span class="s2">&quot;fiveeighths&quot;</span><span class="p">,</span> <span class="s2">&quot;seveneighths&quot;</span><span class="p">,</span> <span class="s2">&quot;onethird&quot;</span><span class="p">,</span> <span class="s2">&quot;twothirds&quot;</span><span class="p">,</span>
<span class="s2">&quot;zerosuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;onesuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;twosuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;threesuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;foursuperior&quot;</span><span class="p">,</span>
<span class="s2">&quot;fivesuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;sixsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;sevensuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;eightsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;ninesuperior&quot;</span><span class="p">,</span>
<span class="s2">&quot;zeroinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;oneinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;twoinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;threeinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;fourinferior&quot;</span><span class="p">,</span>
<span class="s2">&quot;fiveinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;sixinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;seveninferior&quot;</span><span class="p">,</span> <span class="s2">&quot;eightinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;nineinferior&quot;</span><span class="p">,</span>
<span class="s2">&quot;centinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;dollarinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;periodinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;commainferior&quot;</span><span class="p">,</span>
<span class="s2">&quot;Agravesmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Aacutesmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Acircumflexsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Atildesmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Adieresissmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Aringsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;AEsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Ccedillasmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Egravesmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Eacutesmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Ecircumflexsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Edieresissmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Igravesmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Iacutesmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Icircumflexsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Idieresissmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Ethsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Ntildesmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Ogravesmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Oacutesmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Ocircumflexsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Otildesmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Odieresissmall&quot;</span><span class="p">,</span> <span class="s2">&quot;OEsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Oslashsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Ugravesmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Uacutesmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Ucircumflexsmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Udieresissmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Yacutesmall&quot;</span><span class="p">,</span> <span class="s2">&quot;Thornsmall&quot;</span><span class="p">,</span>
<span class="s2">&quot;Ydieresissmall&quot;</span><span class="p">]</span>

<span class="n">cffExpertStringCount</span> <span class="o">=</span> <span class="mi">166</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">cffIExpertStrings</span><span class="p">)</span> <span class="o">==</span> <span class="n">cffExpertStringCount</span>

<span class="n">cffExpertSubsetStrings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.notdef&quot;</span><span class="p">,</span> <span class="s2">&quot;space&quot;</span><span class="p">,</span> <span class="s2">&quot;dollaroldstyle&quot;</span><span class="p">,</span>
<span class="s2">&quot;dollarsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;parenleftsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;parenrightsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;twodotenleader&quot;</span><span class="p">,</span>
<span class="s2">&quot;onedotenleader&quot;</span><span class="p">,</span> <span class="s2">&quot;comma&quot;</span><span class="p">,</span> <span class="s2">&quot;hyphen&quot;</span><span class="p">,</span> <span class="s2">&quot;period&quot;</span><span class="p">,</span> <span class="s2">&quot;fraction&quot;</span><span class="p">,</span> <span class="s2">&quot;zerooldstyle&quot;</span><span class="p">,</span>
<span class="s2">&quot;oneoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;twooldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;threeoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;fouroldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;fiveoldstyle&quot;</span><span class="p">,</span>
<span class="s2">&quot;sixoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;sevenoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;eightoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;nineoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;colon&quot;</span><span class="p">,</span>
<span class="s2">&quot;semicolon&quot;</span><span class="p">,</span> <span class="s2">&quot;commasuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;threequartersemdash&quot;</span><span class="p">,</span> <span class="s2">&quot;periodsuperior&quot;</span><span class="p">,</span>
<span class="s2">&quot;asuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;bsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;centsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;dsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;esuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;isuperior&quot;</span><span class="p">,</span>
<span class="s2">&quot;lsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;msuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;nsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;osuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;rsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;ssuperior&quot;</span><span class="p">,</span>
<span class="s2">&quot;tsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;ff&quot;</span><span class="p">,</span> <span class="s2">&quot;fi&quot;</span><span class="p">,</span> <span class="s2">&quot;fl&quot;</span><span class="p">,</span> <span class="s2">&quot;ffi&quot;</span><span class="p">,</span> <span class="s2">&quot;ffl&quot;</span><span class="p">,</span> <span class="s2">&quot;parenleftinferior&quot;</span><span class="p">,</span>
<span class="s2">&quot;parenrightinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;hyphensuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;colonmonetary&quot;</span><span class="p">,</span> <span class="s2">&quot;onefitted&quot;</span><span class="p">,</span> <span class="s2">&quot;rupiah&quot;</span><span class="p">,</span>
<span class="s2">&quot;centoldstyle&quot;</span><span class="p">,</span> <span class="s2">&quot;figuredash&quot;</span><span class="p">,</span> <span class="s2">&quot;hypheninferior&quot;</span><span class="p">,</span> <span class="s2">&quot;onequarter&quot;</span><span class="p">,</span> <span class="s2">&quot;onehalf&quot;</span><span class="p">,</span>
<span class="s2">&quot;threequarters&quot;</span><span class="p">,</span> <span class="s2">&quot;oneeighth&quot;</span><span class="p">,</span> <span class="s2">&quot;threeeighths&quot;</span><span class="p">,</span> <span class="s2">&quot;fiveeighths&quot;</span><span class="p">,</span> <span class="s2">&quot;seveneighths&quot;</span><span class="p">,</span>
<span class="s2">&quot;onethird&quot;</span><span class="p">,</span> <span class="s2">&quot;twothirds&quot;</span><span class="p">,</span> <span class="s2">&quot;zerosuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;onesuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;twosuperior&quot;</span><span class="p">,</span>
<span class="s2">&quot;threesuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;foursuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;fivesuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;sixsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;sevensuperior&quot;</span><span class="p">,</span>
<span class="s2">&quot;eightsuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;ninesuperior&quot;</span><span class="p">,</span> <span class="s2">&quot;zeroinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;oneinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;twoinferior&quot;</span><span class="p">,</span>
<span class="s2">&quot;threeinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;fourinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;fiveinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;sixinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;seveninferior&quot;</span><span class="p">,</span>
<span class="s2">&quot;eightinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;nineinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;centinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;dollarinferior&quot;</span><span class="p">,</span>
<span class="s2">&quot;periodinferior&quot;</span><span class="p">,</span> <span class="s2">&quot;commainferior&quot;</span><span class="p">]</span>

<span class="n">cffExpertSubsetStringCount</span> <span class="o">=</span> <span class="mi">87</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">cffExpertSubsetStrings</span><span class="p">)</span> <span class="o">==</span> <span class="n">cffExpertSubsetStringCount</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Just van Rossum, Behdad Esfahbod, and the fontTools Authors. CC BY-SA 4.0

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>